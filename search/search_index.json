{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Accueil","text":"<p>       Documentation technique de Papillon     </p> <p>       et des services associ\u00e9s.     </p> <p>Documentation pour les d\u00e9veloppeurs et designers</p> <p>Cette documentation est destin\u00e9e aux d\u00e9veloppeurs et designers qui souhaitent contribuer \u00e0 Papillon. Pour les utilisateurs, veuillez vous r\u00e9f\u00e9rer \u00e0 la documentation utilisateur.</p>        palette      Designer <p>       Cr\u00e9ez des maquettes, des prototypes et des designs pour Papillon. Vous pouvez contribuer \u00e0 la charte graphique.     </p>        code      D\u00e9velopper <p>       Modifier le code source de Papillon pour ajouter des fonctionnalit\u00e9s, en am\u00e9liorer certaines, ou corriger des bugs.     </p>        group      Contribuer <p>       Contribuer \u00e0 la documentation, \u00e0 la communication et \u00e0 la recherche de bugs de Papillon.     </p>"},{"location":"#mentions-legales","title":"Mentions l\u00e9galesPolitique de confidentialit\u00e9Conditions d'utilisation","text":"gavel      <p>       Consultez notre politique de confidentialit\u00e9 pour en savoir plus sur la collecte et l'utilisation de vos donn\u00e9es.     </p>        assignment      <p>       Consultez nos conditions d'utilisation pour en savoir plus sur les r\u00e8gles d'utilisation de nos services.     </p>"},{"location":"#beta-de-papillon","title":"B\u00eata de Papillon","text":"<p>Une b\u00eata de Papillon est disponible pour les utilisateurs qui souhaitent tester les nouvelles fonctionnalit\u00e9s.</p> <p> Rejoindre la b\u00eata de Papillon</p>"},{"location":"index_old/","title":"Index old","text":"<p>"},{"location":"index_old/#documentation-technique-de-papillon-et-des-services-associes","title":"Documentation technique de Papillon et des services associ\u00e9s.","text":"<p>Documentation pour les d\u00e9veloppeurs et designers</p> <p>Cette documentation est destin\u00e9e aux d\u00e9veloppeurs et designers qui souhaitent contribuer \u00e0 Papillon. Pour les utilisateurs, veuillez vous r\u00e9f\u00e9rer \u00e0 la documentation utilisateur.</p> <p>Documentation en construction</p> <p>La documentation est en construction, revenez plus tard si quelque chose n'est pas disponible !</p> <ul> <li> <p> Designer</p> <p>Cr\u00e9ez des maquettes, des prototypes et des designs pour Papillon. Vous pouvez contribuer \u00e0 la charte graphique.</p> <p> Consulter</p> </li> <li> <p> D\u00e9velopper</p> <p>Modifier le code source de Papillon pour ajouter des fonctionnalit\u00e9s ou corriger des bugs.</p> <p> Consulter</p> </li> <li> <p> Contribuer</p> <p>Contribuer \u00e0 la documentation, \u00e0 la traduction, \u00e0 la communication, \u00e0 la recherche de bugs de Papillon.</p> <p> Consulter</p> </li> <li> <p> Rejoindre la b\u00eata</p> <p>Une b\u00eata de Papillon est disponible pour les utilisateurs qui souhaitent tester les nouvelles fonctionnalit\u00e9s.</p> <p> Rejoindre la b\u00eata de Papillon</p> </li> </ul>"},{"location":"index_old/#nos-reseaux-sociaux","title":"Nos r\u00e9seaux sociaux","text":"<ul> <li> discord.gg/ywkBZx2jFB</li> <li> github.com/PapallonApp</li> <li> twitter.com/thepapillonapp</li> <li> instragram.com/thepapillonapp</li> </ul>"},{"location":"index_old/#mentions-legales","title":"Mentions l\u00e9gales","text":"<ul> <li> Politique de confidentialit\u00e9</li> <li> Conditions g\u00e9n\u00e9rales d'utilisation</li> </ul> <p>Papillon n'est affili\u00e9 \u00e0 aucune entreprise ou organisation. Papillon est un projet open-source et communautaire.</p>"},{"location":"contribute/beta/","title":"Programme b\u00eata","text":"<p>Afin d'acc\u00e9der aux fonctionnalit\u00e9s en d\u00e9veloppement et d'aider \u00e0 rendre Papillon plus stable et accessible \u00e0 tous, vous pouvez rejoindre le programme b\u00eata.</p>"},{"location":"contribute/beta/#quest-ce-quune-beta","title":"Qu'est-ce qu'une b\u00eata ?","text":"<p>Une version b\u00eata est une version en cours de d\u00e9veloppement et de test de l'application, pr\u00e9vue pour \u00eatre corrig\u00e9e et publi\u00e9e \u00e0 tous \u00e0 l'avenir.</p>"},{"location":"contribute/beta/#comment-ca-fonctionne-sur-papillon","title":"Comment \u00e7a fonctionne sur Papillon","text":"<p>Les versions de Papillon ont g\u00e9n\u00e9ralement 2 \u00e0 3 \u00e9tapes de d\u00e9ploiement (B\u00eata-testing, correctifs, et d\u00e9ploiement). Il faut savoir que chaque version peut prendre quelques jours pour parvenir \u00e0 votre smartphone.</p> <p>Note</p> <p>Les num\u00e9ros de version indiquent les changements apport\u00e9s.</p> <ul> <li>Les versions 6.X apportent des fonctionnalit\u00e9s majeures et d'importants correctifs.</li> <li>Les versions 6.X.X apportent des fonctionnalit\u00e9s mineures et des correctifs habituels.</li> <li>Les versions 6.X.X.X apportent des correctifs rapides pour des probl\u00e8mes particuliers.</li> </ul>"},{"location":"contribute/beta/#avant-de-commencer","title":"Avant de commencer","text":"<p>Avant de commencer, n'oubliez pas que :</p> <ul> <li>\ud83d\udc80 Les versions b\u00eata sont instables, elles peuvent causer des crashs et d'autres dysfonctionnements.</li> <li>\ud83e\udd2c Nous ne pouvons pas r\u00e9parer un bug en 2 jours, soyez patients...</li> <li>\ud83d\udd0d Des fonctionnalit\u00e9s peuvent ne pas fonctionner correctement ou plus du tout.</li> <li>\ud83d\udd25 Vous pouvez perdre des param\u00e8tres appliqu\u00e9s \u00e0 l'application.</li> </ul>"},{"location":"contribute/beta/#obtenir-la-beta","title":"Obtenir la b\u00eata","text":"iOS (TestFlight)Android (Google Play)"},{"location":"contribute/beta/#attention","title":"\u26a0 Attention !","text":"<p>L'application TestFlight d'Apple et un compte iCloud valide sont n\u00e9cessaires pour t\u00e9l\u00e9charger des applications en b\u00eata !</p> <p>Les instructions d'installation sont pr\u00e9cis\u00e9es sur le lien d'inscription.</p> <p>S'inscrire \u00e0 la b\u00eata TestFlight</p>"},{"location":"contribute/beta/#attention_1","title":"\u26a0 Attention !","text":"<p>Un compte Google Play valide est n\u00e9cessaire pour rejoindre la b\u00eata. Autrement, vous pouvez t\u00e9l\u00e9charger l'APK de l'application sur GitHub.</p> <p>Rejoindre la b\u00eata Google Play Obtenir l'APK</p>"},{"location":"contribute/final-step/","title":"Parution dans l'application finale (stable)","text":""},{"location":"contribute/final-step/#les-branches","title":"Les branches","text":"<p>Papillon a plusieurs branches sur son repo :</p> <ul> <li><code>stable</code> est la branche \u00e0 laquelle le public a acc\u00e8s via les stores.</li> <li><code>beta</code> est la branche de test o\u00f9 les nouvelles fonctionnalit\u00e9s sont test\u00e9es avant d'\u00eatre publi\u00e9es dans la branche stable.</li> <li><code>development</code> est la branche de d\u00e9veloppement o\u00f9 les nouvelles fonctionnalit\u00e9s sont ajout\u00e9es et les bugs sont corrig\u00e9s.</li> </ul>"},{"location":"contribute/final-step/#processus-de-publication","title":"Processus de publication","text":"<p>Lorsqu'une nouvelle fonctionnalit\u00e9 est pr\u00eate \u00e0 \u00eatre publi\u00e9e, elle est fusionn\u00e9e dans la branche de d\u00e9veloppement.</p> <p>Les nouvelles publications sont g\u00e9r\u00e9es par l'\u00e9quipe de coordination. Lorsqu'une nouvelle publication est pr\u00eate, elle est soumise \u00e0 une demande de fusion dans la branche b\u00eata. GitHub Actions est utilis\u00e9 pour automatiser le processus de publication ainsi que pour la publier sur les stores de test. Une fois que la publication est test\u00e9e et pr\u00eate \u00e0 \u00eatre publi\u00e9e, elle est fusionn\u00e9e dans la branche stable. GitHub Actions est utilis\u00e9 pour automatiser le processus de publication ainsi que pour la publier sur les stores.</p> <p> <p><pre><code>graph TD\n    A(D\u00e9veloppement) --&gt;|Test par les devs| B(B\u00eata)\n    B --&gt;|Publi\u00e9 sur les stores de test| ST(Testflight, Google Play Beta)\n    ST --&gt;|Test par le public| C(Stable)\n    C --&gt;|Publi\u00e9 sur les stores| S(App Store, Google Play)\n    S --&gt;|T\u00e9l\u00e9charg\u00e9 par le public| U(Utilisateurs finaux)</code></pre> </p>"},{"location":"contribute/intro/","title":"Contribuer","text":"<p>Merci de votre int\u00e9r\u00eat pour contribuer \u00e0 Papillon. Il y a plusieurs fa\u00e7ons de contribuer, que vous soyez un d\u00e9veloppeur exp\u00e9riment\u00e9 ou que vous n'ayez jamais contribu\u00e9 \u00e0 un projet open-source auparavant.</p>"},{"location":"contribute/intro/#comment-contribuer","title":"Comment contribuer","text":"<p>Il existe plusieurs fa\u00e7ons de contribuer \u00e0 Papillon :</p> <ul> <li> <p>Soumettre des pull requests : Si vous avez des id\u00e9es pour am\u00e9liorer l'application ou si vous souhaitez corriger des bugs, vous pouvez soumettre des pull requests sur GitHub. Consultez notre guide de pull requests pour obtenir des instructions d\u00e9taill\u00e9es sur la mani\u00e8re de soumettre des pull requests.</p> </li> <li> <p>Signaler des probl\u00e8mes : Si vous rencontrez des probl\u00e8mes ou des bugs dans l'application, vous pouvez les signaler en cr\u00e9ant une issue sur GitHub. Consultez notre guide de signalement des probl\u00e8mes pour obtenir des instructions d\u00e9taill\u00e9es sur la mani\u00e8re de signaler des probl\u00e8mes.</p> </li> </ul>"},{"location":"contribute/pull-request/","title":"Pull Request","text":"<p>Les pull requests sont un moyen de contribuer \u00e0 un projet en apportant des modifications \u00e0 un d\u00e9p\u00f4t. Elles sont souvent utilis\u00e9es pour discuter des modifications que vous souhaitez apporter avant de les fusionner dans le d\u00e9p\u00f4t.</p>"},{"location":"contribute/pull-request/#chez-papillon","title":"Chez Papillon","text":"<p>Chez Papillon, nous avons une politique de pull request pour les branches de d\u00e9veloppement. Cela signifie que chaque modification doit \u00eatre soumise \u00e0 une pull request avant d'\u00eatre fusionn\u00e9e dans la branche de d\u00e9veloppement.</p>"},{"location":"contribute/pull-request/#processus-de-pull-request","title":"Processus de pull request","text":"<ol> <li>Choisir la cat\u00e9gorie de la modification</li> <li>Soumettre votre code pour \u00e9valuation</li> <li>Les responsables de la cat\u00e9gorie et la personne de la coordination \u00e9valueront votre code</li> <li>Si votre code est valide, il sera fusionn\u00e9 dans la branche de d\u00e9veloppement</li> </ol> <pre><code>\nstateDiagram-v2\n    CE : Code \u00e9valu\u00e9\n    RP : Responsable de la cat\u00e9gorie\n    PCV : PC valide ?\n    RPV : RP valide ?\n    PC : Personne de la coordination\n    BD : Branche de d\u00e9veloppement\n\nstate PCV &lt;&lt;choice&gt;&gt;\nstate RPV &lt;&lt;choice&gt;&gt;\nstate join_state &lt;&lt;join&gt;&gt;\n\n    [*] --&gt; CE\n\n    CE --&gt; RP\n    RP --&gt; RPV\n    RPV --&gt; join_state : Oui\n    RPV --&gt; CE : Sugg\u00e8re des modifications\n\n    CE  --&gt; PC\n    PC --&gt; PCV\n    PCV --&gt; join_state : Oui\n    PCV --&gt; CE : Sugg\u00e8re des modifications\n\n    join_state --&gt; BD : Fusion de la demande</code></pre> <p>Comment nommer les pull requests</p> <p>Nous recommandons au d\u00e9veloppeur d'utiliser les noms de commit conventionnel. Plus d'informations \u00e0 cette adresse.</p> <p>Les pull requests peuvent \u00eatre refus\u00e9es si elles ne respectent pas les normes de codage ou si elles ne sont pas valides.</p> <p>Il est inutile de soumettre une pull request si votre code n'est pas pr\u00eat \u00e0 \u00eatre fusionn\u00e9. Assurez-vous que votre code est pr\u00eat \u00e0 \u00eatre fusionn\u00e9 avant de soumettre une pull request.</p> <p>Harc\u00e8lement interdit</p> <p>Il est interdit d'harceler les responsables de la cat\u00e9gorie ou la personne de la coordination pour qu'ils fusionnent votre pull request. Ils prendront le temps d'\u00e9valuer votre code et de vous donner des retours d\u00e8s qu'ils le pourront.</p>"},{"location":"contribute/reporting-issues/","title":"Rapporter des probl\u00e8mes","text":"<p>Papillon est un projet open-source et nous encourageons les utilisateurs \u00e0 signaler les probl\u00e8mes qu'ils rencontrent. Cela nous aide \u00e0 identifier et \u00e0 r\u00e9soudre les probl\u00e8mes plus rapidement, ce qui profite \u00e0 l'ensemble de la communaut\u00e9.</p>"},{"location":"contribute/reporting-issues/#comment-signaler-des-problemes","title":"Comment signaler des probl\u00e8mes","text":""},{"location":"contribute/reporting-issues/#ou-signaler-des-problemes","title":"O\u00f9 signaler des probl\u00e8mes","text":"<p>Sur Github</p> <p>Pour signaler un probl\u00e8me sur Github, ouvrez une nouvelle issue et suivez les instructions pour remplir le formulaire.</p> <p>Sur Discord</p> <p>Sur le serveur Discord, dans le forum <code>#\ud83e\uddea\u2503\u30fbbug-report</code></p>"},{"location":"contribute/reporting-issues/#ecriture-dun-bon-rapport-de-probleme","title":"\u00c9criture d'un bon rapport de probl\u00e8me","text":"<p>Si vous rencontrez des probl\u00e8mes ou des bugs dans l'application Papillon, voici quelques conseils pour signaler des probl\u00e8mes de mani\u00e8re efficace :</p> <ol> <li> <p>Recherchez les probl\u00e8mes existants : Avant de signaler un nouveau probl\u00e8me, assurez-vous de rechercher les probl\u00e8mes existants pour voir si quelqu'un d'autre a d\u00e9j\u00e0 signal\u00e9 le m\u00eame probl\u00e8me. Cela vous \u00e9vitera de cr\u00e9er des doublons et permettra de regrouper les informations sur le m\u00eame probl\u00e8me.</p> </li> <li> <p>Fournissez des informations d\u00e9taill\u00e9es : Lorsque vous signalez un probl\u00e8me</p> <ul> <li>Indiquez la cat\u00e9gorie du probl\u00e8me (par exemple, bug, am\u00e9lioration, question).</li> <li>D\u00e9crivez le probl\u00e8me de mani\u00e8re d\u00e9taill\u00e9e, en expliquant ce que vous avez essay\u00e9 de faire et ce qui s'est mal pass\u00e9.</li> <li>Incluez des captures d'\u00e9cran ou des extraits de code si cela peut aider \u00e0 expliquer le probl\u00e8me.</li> <li>Indiquez la version de l'application que vous utilisez, ainsi que les \u00e9tapes pour reproduire le probl\u00e8me.</li> </ul> </li> <li> <p>Soyez respectueux : Lorsque vous signalez un probl\u00e8me</p> <ul> <li>Soyez respectueux envers les autres contributeurs et les mainteneurs du projet.</li> <li>\u00c9vitez les commentaires offensants ou les attaques personnelles.</li> </ul> </li> <li> <p>Soyez patient : Lorsque vous signalez un probl\u00e8me ou que vous demandez de l'aide</p> <ul> <li>Soyez patient et attendez une r\u00e9ponse.</li> <li>N'envoyez pas de messages r\u00e9p\u00e9t\u00e9s ou de relances.</li> </ul> </li> </ol> <p>Harc\u00e8lement interdit</p> <p>Il est interdit d'harceler les responsables de la cat\u00e9gorie ou la personne de la coordination pour qu'ils fusionnent votre pull request. Ils prendront le temps d'\u00e9valuer votre code et de vous donner des retours d\u00e8s qu'ils le pourront.</p>"},{"location":"design/color/","title":"Couleurs","text":"<p>Les couleurs forment la base de l'identit\u00e9 visuelle de l'application. Elles sont utilis\u00e9es pour donner une identit\u00e9 visuelle \u00e0 l'application et pour faciliter la lecture des utilisateurs.</p>"},{"location":"design/color/#les-couleurs-de-la-marque","title":"Les couleurs de la marque","text":""},{"location":"design/color/#couleurs-principales","title":"Couleurs principalesVert PapillonVert secondaire","text":"<p>Les couleurs principales sont utilis\u00e9es pour les \u00e9l\u00e9ments visuels importants de l'identit\u00e9 de marque. Elles sont utilis\u00e9es pour les \u00e9l\u00e9ments visuels importants de l'application et de communication.</p> <p>#2A937A</p> <p>#32AB8E</p>"},{"location":"design/color/#couleurs-secondaires","title":"Couleurs secondairesIndigoMinuitMoutardeBordeauxCorailBleuCyanN\u00e9onJaune","text":"<p>Les couleurs secondaires sont utilis\u00e9es pour identifier et d\u00e9marquer des \u00e9lements pr\u00e9cis de l'interface utilisateur ou de la communication, afin de cr\u00e9er des variations.</p> <p>#565EA3</p> <p>#2E4277</p> <p>#B18619</p> <p>#B42828</p> <p>#A84700</p> <p>#0065A8</p> <p>#77FFFF</p> <p>#0DFF8B</p> <p>#FDC500</p>"},{"location":"design/color/#calques-de-transparences","title":"Calques de transparences\"Le 10%\"\"Le 50%\"","text":"<p>Les calques de transparence sont utilis\u00e9s pour une monochromie des couleurs. Ils sont utilis\u00e9s sur quelques supports.</p> <p>#FFFFFF10</p> <p>#FFFFF50</p>"},{"location":"design/color/#utilisations-des-couleurs","title":"Utilisations des couleurs","text":"<p>Utilisations des couleurs par rapport au support</p> <p>Papillon a deux moyens d'utilis\u00e9s les couleurs et calques, nous faisons la diff\u00e9rence entre communication publique &amp; ouverte, et la communication officielle &amp; priv\u00e9e. Cela se fait par l'utilisation des couleurs secondaires ou des calques de transparence.</p>"},{"location":"design/color/#theme-clair","title":"Th\u00e8me clairFond primaireFond secondaire","text":"<p>#FFFFFF</p> <p>UIColors.background</p> <p>#F3F2F8</p> <p>UIColors.modalBackground</p>"},{"location":"design/color/#theme-sombre","title":"Th\u00e8me sombreFond primaireFond secondaire","text":"<p>#0B0B0C</p> <p>UIColors.background</p> <p>#161618</p> <p>UIColors.modalBackground</p>"},{"location":"design/color/#theme-full-black","title":"Th\u00e8me Full BlackFond primaireCouleur secondaire","text":"<p>Utilisations du th\u00e8me Full Black</p> <p>Le th\u00e8me Full Black est tr\u00e8s peu utilis\u00e9 pour Papillon, il est pr\u00e9sent pour widget les modes nuits sur iPhone. En Aucun cas il doit \u00eatre utilis\u00e9 pour designer une interface. Ce th\u00e8me a uniquement pour but les widgets, le Standby Mode et l'utilisation dans de tr\u00e8s rare cas de prototype hors iPhone.</p> <p>#000000</p> <p>#F00304</p>"},{"location":"design/communication-kit/","title":"Kit de communication","text":"<p>Communiquez autour de Papillon dans vos projets et collaborations gr\u00e2ce au kit de communication Papillon.</p>"},{"location":"design/communication-kit/#charte-graphique-pdf","title":"Charte graphique (PDF)","text":"<p>Charte Graphique - Papillon (sept. 2023).pdf</p>"},{"location":"design/font/","title":"Polices d'\u00e9criture","text":"<p>Les polices d'\u00e9criture sont utilis\u00e9es pour les titres, les sous-titres et les textes courants. Elles contribuent \u00e0 d\u00e9finir l'identit\u00e9 visuelle de l'application et \u00e0 faciliter la lecture des utilisateurs.</p> <p>     Fixel Text   </p> <p>     Quand jadis, mon vaillant z\u00e9phyr explorait les cieux, papillon exquis, s'\u00e9veillant aux d\u00e9lices du jardin \u00e9ternel, le parfum suave annon\u00e7ait mille bonheurs.   </p> <p>       Interface utilisateur     </p>        T\u00e9l\u00e9charger      <p>     Onest   </p> <p>     Quand jadis, mon vaillant z\u00e9phyr explorait les cieux, papillon exquis, s'\u00e9veillant aux d\u00e9lices du jardin \u00e9ternel, le parfum suave annon\u00e7ait mille bonheurs.   </p> <p>       Communication visuelle     </p>        T\u00e9l\u00e9charger      <p>     Open Dyslexic   </p> <p>     Quand jadis, mon vaillant z\u00e9phyr explorait les cieux, papillon exquis, s'\u00e9veillant aux d\u00e9lices du jardin \u00e9ternel, le parfum suave annon\u00e7ait mille bonheurs.   </p> <p>       Accessibilit\u00e9     </p>        T\u00e9l\u00e9charger"},{"location":"design/font_old/","title":"Polices d'\u00e9criture","text":"<p>Les polices d'\u00e9criture sont utilis\u00e9es pour les titres, les sous-titres et les textes courants. Elles contribuent \u00e0 d\u00e9finir l'identit\u00e9 visuelle de l'application et \u00e0 faciliter la lecture des utilisateurs.</p>"},{"location":"design/font_old/#cas-dutilisation","title":"Cas d'utilisation","text":""},{"location":"design/font_old/#dans-lapplication-principale","title":"Dans l'application principale","text":"<p>Fixel Text est utilis\u00e9e comme police par d\u00e9faut pour l'ensemble de l'application. Elle est utilis\u00e9e pour les titres, les sous-titres et les textes courants.</p>"},{"location":"design/font_old/#dans-les-targets-natives","title":"Dans les \"targets\" natives","text":"<p>Pour les \"targets\" natives, les polices d'\u00e9criture par d\u00e9faut de la plateforme doivent \u00eatre utilis\u00e9es.</p> <p>Exemple : San Francisco pour WatchOS.</p> <p>Ce que vous devez faire</p> <p> En respectant les polices d'\u00e9criture par d\u00e9faut de la plateforme, vous garantissez une exp\u00e9rience utilisateur harmonieuse. Cela permet \u00e9galement de maintenir une coh\u00e9rence visuelle entre les diff\u00e9rentes applications de la plateforme. Enfin, l'accessibilit\u00e9 de l'application est am\u00e9lior\u00e9e.</p> <p>Ce que vous ne devez pas faire</p> <p> Il est interdit d'utiliser des polices d'\u00e9criture autres que celles par d\u00e9faut de la plateforme. Cela pourrait nuire \u00e0 l'exp\u00e9rience utilisateur ainsi qu'\u00e0 l'accessibilit\u00e9 de l'application.</p>"},{"location":"design/font_old/#liens-de-telechargement","title":"Liens de t\u00e9l\u00e9chargement","text":"<ul> <li> <p> Fixel Text</p> <p>Fixel Text est utilis\u00e9e comme police par d\u00e9faut pour l'ensemble de l'application. Elle est utilis\u00e9e pour les titres, les sous-titres et les textes courants.</p> <p>Licence : Open Font License</p> <p> T\u00e9l\u00e9charger</p> </li> <li> <p> Miriam Libre</p> <p>Cette police est utilis\u00e9e plus occasionnellement pour certains \u00e9l\u00e9ments. Elle est \u00e0 utiliser avec parcimonie.</p> <p>Licence : Open Font License</p> <p> T\u00e9l\u00e9charger</p> </li> </ul>"},{"location":"design/intro/","title":"Introduction","text":"<p>Papillon est con\u00e7u pour \u00eatre facile \u00e0 utiliser tout en offrant une exp\u00e9rience agr\u00e9able aux utilisateurs. En tant que surcouche graphique aux clients scolaires habituels, Papillon se doit de fournir une exp\u00e9rience utilisateur optimis\u00e9e pour son usage.</p> <p>Un niveau de connaissance est requis</p> <p>Cette section est destin\u00e9e aux designers ayant un niveau de connaissance suffisant pour comprendre les concepts de base de la conception d'interface utilisateur et de l'exp\u00e9rience utilisateur.</p>"},{"location":"design/intro/#avant-de-commencer","title":"Avant de commencer","text":"<p>L'application Papillon dispose d\u00e9j\u00e0 d'une charte graphique pr\u00e9\u00e9tablie. Il est donc n\u00e9cessaire de s'en approcher au maximum lors de la conception et du design de l'application. Cela garantira une coh\u00e9rence visuelle et une exp\u00e9rience utilisateur harmonieuse.</p> <p>De plus, Papillon utilise les guides d\u2019interface utilisateur d\u2019Apple comme base de r\u00e8gles et de principes sur lesquels d\u00e9velopper. De ce fait, les \u00e9crans d\u2019UI pr\u00e9sents sur ce Figma prennent iOS comme syst\u00e8me d\u2019exploitation.</p> <p>Merci de prendre en compte cette charte graphique lors de la cr\u00e9ation des \u00e9l\u00e9ments visuels de l'application.</p>"},{"location":"design/intro/#chartes-graphiques","title":"Chartes graphiques","text":"<p>Pour faciliter la conception du design de l'application, nous vous recommandons d'utiliser le fichier Figma suivant :</p> <ul> <li> <p>Papillon Product Design (PPD) </p> </li> <li> <p>OUTDATED Charte graphique (PDF) </p> </li> </ul> <p>Ces fichiers contiennent les \u00e9l\u00e9ments visuels de l'application, tels que les couleurs, les typographies, les ic\u00f4nes et les composants. Ils sont mis \u00e0 jour r\u00e9guli\u00e8rement pour refl\u00e9ter les derni\u00e8res modifications apport\u00e9es \u00e0 l'application. Vous ne pouvez pas directement modifi\u00e9 le fichier &amp; Figma d'origine mais vous pouvez les dupliquer pour apporter vos modifications.</p> <p>Toutes utilisations d'un \u00e9l\u00e9ment graphique de Papillon et de PapillonApp sont soumis \u00e0 la license GPL 3.0, ce qui signifie que vous devez quand m\u00eame cr\u00e9diter Papillon &amp; PapillonApp en cas d'utilisations n'ayant pas de rapport avec le projet Github d'origine.</p>"},{"location":"development/ent/","title":"Environnement de Travail Num\u00e9rique","text":""},{"location":"development/ent/#definition","title":"D\u00e9finition","text":"<p>Un environnement de travail num\u00e9rique est un ensemble d'outils et de services num\u00e9riques utilis\u00e9s pour travailler. Il peut s'agir d'outils de communication, de gestion de projet, de stockage de fichiers, de d\u00e9veloppement logiciel, etc.</p>"},{"location":"development/ent/#chez-papillon","title":"Chez Papillon","text":""},{"location":"development/ent/#compatibilite","title":"Compatibilit\u00e9","text":"<p>Actuellement, l'application Papillon est compatible avec les environnements de travail num\u00e9rique suivants :</p> <ul> <li>Pronote</li> <li>Skolengo</li> <li>EcoleDirecte (en cours de d\u00e9veloppement)</li> </ul>"},{"location":"development/ent/#interoperabilite","title":"Interop\u00e9rabilit\u00e9","text":"<p>Papillon est con\u00e7u pour \u00eatre interop\u00e9rable avec plusieurs environnements de travail num\u00e9rique. Cela signifie que Papillon a une architecture modulaire qui permet d'ajouter facilement de nouveaux environnements de travail num\u00e9rique.</p>"},{"location":"development/ent/#fonctionnement","title":"Fonctionnement","text":"<p> <pre><code>stateDiagram-v2\n\n    skapi : Skolengo-API\n    EcoleDirecte : Papillon-ED-Core\n\n\n    Pawnote --&gt; IndexDataInstance\n    skapi --&gt; IndexDataInstance\n    EcoleDirecte --&gt; IndexDataInstance\n    ENT --&gt; IndexDataInstance\n\n\n    IndexDataInstance --&gt; View\n    View --&gt; Utilisateur</code></pre> <p></p> <p>Les environnements de travail num\u00e9rique sont connect\u00e9s \u00e0 Papillon via des modules sp\u00e9cifiques. Ces modules permettent de r\u00e9cup\u00e9rer les donn\u00e9es de l'environnement de travail num\u00e9rique. Ces donn\u00e9es sont ensuite trait\u00e9es par Papillon pour \u00eatre affich\u00e9es \u00e0 l'utilisateur.</p> <p>\u00c0 consulter</p> <p>Il est conseill\u00e9 de consulter index.ts:development  sur Github pour comprendre comment les donn\u00e9es sont trait\u00e9es.</p>"},{"location":"development/ent/#documentation","title":"Documentation","text":"<p>Pour chaque environnement de travail num\u00e9rique, une documentation est disponible. Elle permet de comprendre comment fonctionne l'environnement de travail num\u00e9rique et comment l'int\u00e9grer \u00e0 Papillon.</p> <ul> <li>Pawnote (compatible avec Pronote)</li> </ul>"},{"location":"development/ent/#mentions-legales","title":"Mentions L\u00e9gales","text":"<p>Pronote est une marque d\u00e9pos\u00e9e de la soci\u00e9t\u00e9 Index \u00c9ducation . Papillon et Pawnote ne sont pas affili\u00e9s \u00e0 Index \u00c9ducation.</p> <p>EcoleDirecte est une marque d\u00e9pos\u00e9e de la soci\u00e9t\u00e9 Aplim . Papillon n'est pas affili\u00e9 \u00e0 EcoleDirecte et \u00e0 Aplim.</p> <p>Skolengo est une marque d\u00e9pos\u00e9e de la soci\u00e9t\u00e9 Komos . Papillon n'est pas affili\u00e9 \u00e0 Skolengo.</p>"},{"location":"development/intro/","title":"Introduction \u00e0 Papillon","text":"<p>Papillon repose sur une architecture de d\u00e9veloppement moderne et modulaire. Il est con\u00e7u pour \u00eatre facile \u00e0 utiliser tout en offrant une exp\u00e9rience agr\u00e9able aux d\u00e9veloppeurs. En tant qu'agr\u00e9gateur de donn\u00e9es scolaires, Papillon se doit de fournir une exp\u00e9rience d\u00e9veloppeur optimis\u00e9e pour son usage.</p> <p>Un niveau de connaissance est requis</p> <p>Cette section s'adresse aux d\u00e9veloppeurs ayant un niveau de connaissance suffisant pour comprendre les concepts de base de React Native et d'Expo.</p>"},{"location":"development/intro/#avant-de-commencer","title":"Avant de commencer","text":"<p>Papillon est une application bas\u00e9e sur React Native Expo. Il est important de suivre une certaine rigueur lors de la programmation de l'application.</p> <p>Voici quelques points importants \u00e0 prendre en compte :</p> <ol> <li> <p>Utilisation de React Native Expo : Papillon est construit sur la plateforme React Native Expo, ce qui signifie que vous pouvez utiliser les fonctionnalit\u00e9s et les composants fournis par Expo pour d\u00e9velopper l'application.</p> </li> <li> <p>Respect des bonnes pratiques de codage : Il est essentiel de suivre les bonnes pratiques de codage lors de la programmation dans Papillon. Cela inclut l'utilisation de conventions de nommage coh\u00e9rentes, l'organisation du code en modules r\u00e9utilisables et la documentation appropri\u00e9e.</p> </li> <li> <p>Tests et d\u00e9bogage : Assurez-vous de tester r\u00e9guli\u00e8rement votre code et de le d\u00e9boguer pour identifier et r\u00e9soudre les erreurs. Utilisez les outils de d\u00e9bogage fournis par Expo pour faciliter ce processus.</p> </li> <li> <p>Collaboration et gestion de version : Si vous travaillez en \u00e9quipe sur le projet Papillon, il est important de suivre les bonnes pratiques de collaboration et de gestion de version. Utilisez un syst\u00e8me de contr\u00f4le de version tel que Git pour g\u00e9rer les modifications du code et faciliter la collaboration entre les membres de l'\u00e9quipe.</p> </li> </ol> <p>En suivant ces lignes directrices, vous pourrez d\u00e9velopper efficacement dans l'application Papillon et garantir la qualit\u00e9 du code produit.</p>"},{"location":"development/intro/#installer-votre-environnement-de-developpement","title":"Installer votre environnement de d\u00e9veloppement","text":"<p>Pour commencer \u00e0 d\u00e9velopper dans l'application Papillon, vous devez d'abord configurer votre environnement de d\u00e9veloppement. Voici les \u00e9tapes \u00e0 suivre pour installer les outils n\u00e9cessaires :</p>        iOS      iOS <p>         Ainsi que les autres plateformes Apple. Un Mac est n\u00e9cessaire pour le d\u00e9veloppement Apple.     </p>        android      Android <p>         Ainsi que les autres plateformes Google. Windows, macOS ou Linux est n\u00e9cessaire.     </p>        cloud_upload      EAS <p>       Utiliser Expo Application Services pour d\u00e9velopper l'application dans le cloud.     </p> <p>Une fois votre environnement de d\u00e9veloppement configur\u00e9, vous pourrez commencer \u00e0 d\u00e9velopper dans l'application Papillon en utilisant les fonctionnalit\u00e9s et les composants fournis par l'\u00e9quipe de design et de d\u00e9veloppement.</p>"},{"location":"development/intro/#soumettre-des-modifications","title":"Soumettre des modifications","text":"<p>Si vous souhaitez contribuer \u00e0 l'application Papillon, vous pouvez consulter la documentation pour les contributeurs pour obtenir des informations sur la mani\u00e8re de soumettre des modifications, de signaler des probl\u00e8mes et de participer \u00e0 la communaut\u00e9 de d\u00e9veloppement.</p>"},{"location":"development/api/papillon/","title":"API Papillon","text":"<p>Info</p> <p>L'api Papillon permet de r\u00e9cup\u00e9rer la liste des contributeurs, les disclaimers, les messages d'alerte ainsi que les informations   de la derni\u00e8re version de l'application.  </p> <p>Elle est accessible \u00e0 tous ici </p> <p>Son repo GitHub est public</p> <p>Elle est disponible sur Docker Hub</p>"},{"location":"development/api/papillon/#endpoints","title":"Endpoints","text":"<ul> <li>GET /api : Version de l'api</li> <li>GET /team : Liste des membres de l'\u00e9quipe</li> <li>GET /messages : Liste de tous les messages de l'app</li> <li>GET /latestVersion/plateforme : Derni\u00e8re version de l'application pour la plateforme en question</li> </ul>"},{"location":"development/api/pawnote/","title":"Pawnote (compatible avec Pronote)","text":"<p>Info</p> <p>Pronote est une marque d\u00e9pos\u00e9e de la soci\u00e9t\u00e9 Index \u00c9ducation . Papillon et Pawnote ne sont pas affili\u00e9s \u00e0 Index \u00c9ducation. </p> <p>Pawnote  est un paquet Node.js qui permet d'interagir avec l'API de l'application web de gestion de vie scolaire Pronote.</p> <p>npm</p> <p>Le paquet est disponible sur npmjs.com  sous le nom <code>pawnote</code>.</p> <p>D\u00e9velopp\u00e9 et maintenu par Vexcited , ce module est utilis\u00e9 massivement dans Papillon pour interagir avec l'API de Pronote.</p> <p>Documentation disponible</p> <p>La documentation de Pawnote est disponible \u00e0 l'adresse pawnote.js.org .</p>"},{"location":"development/api/ed/api/","title":"EcoleDirecte Api - Documentation","text":"<p>Merci \u00e0 MaitreRouge pour la doc</p> <p>Vous pouvez retrouver la documentation originale sur GitHub </p>"},{"location":"development/api/ed/api/#introduction","title":"Introduction","text":"<p>Bienvenue sur la documentation non officielle de l'api d'ecoledirecte.</p> <p>Si jamais cette documentation vient a \u00eatre d\u00e9faillante, merci de faire une issue avec les probl\u00e8mes rencontr\u00e9s</p> <p>(Si jamais vous avez des id\u00e9es de formatage, h\u00e9sitez pas \u00e0 me le faire savoir MaitreRouge#6916)</p>"},{"location":"development/api/ed/api/#index","title":"Index","text":"<p>Juste un rapide sommaire pour naviguer plus facilement dans la documentation.</p> <ul> <li>Format de la documentation</li> <li>Utilisation de l'API</li> <li>Requ\u00eates authentifi\u00e9es</li> <li>Codes erreur</li> <li> <p>Servers.json</p> </li> <li> <p>Login</p> </li> <li>Account objects</li> <li>Modules</li> <li>\u00c9l\u00e8ve</li> <li>Timeline</li> <li>Timeline commune</li> <li>Sondages</li> <li>Formulaires</li> <li>Visios</li> <li>Emploi du temps</li> <li>Cahier de texte</li> <li>Vie scolaire</li> <li>Carnet de correspondance</li> <li>Documents administratifs</li> <li>Notes</li> <li>Espaces de travail</li> <li>Manuels num\u00e9riques</li> <li>QCMs</li> <li>Commandes</li> <li>Classe</li> <li>Vie de la classe</li> <li>Cloud</li> <li>Chemins</li> <li>Cloud \u00e9l\u00e8ve</li> <li>Cloud espaces de travail</li> <li>T\u00e9l\u00e9versement</li> <li>T\u00e9l\u00e9chargement</li> </ul>"},{"location":"development/api/ed/api/#format-de-la-documentation","title":"Format de la documentation","text":"<p>La base de l'api \u00e9l\u00e8ve est <code>https://api.ecoledirecte.com/</code>. Toutes les URLs relatives sont relatives \u00e0 cette base.</p> <p>Les requ\u00eates prennent g\u00e9n\u00e9ralement des param\u00e8tres soit en query string dans l'URL soit en JSON dans le corps de la requ\u00eate. Ces param\u00e8tres sont encod\u00e9s au format <code>application/x-www-form-urlencoded</code>, bien que cet encodage soit totalement optionnel pour le corps de la requ\u00eate.</p> <p>Note : On peut utiliser la fonction <code>encodeURIComponent()</code> en JavaScript et <code>urllib.parse.quote()</code> en Python pour encoder ces param\u00e8tres.</p> <p>Exemple : Votre mot de passe est <code>JaimeLesK++kies&amp;Ynotes</code> il faudra envoyer <code>JaimeLesK%2B%2Bies%26</code></p> <p>Important : Toutes les requ\u00eates sont faites en <code>POST</code>. Elles prennent aussi un param\u00e8tre <code>verbe</code> utilis\u00e9 pour sp\u00e9cifier le verbe HTTP. Ici ce param\u00e8tre est omis et la m\u00e9thode HTTP indiqu\u00e9e est en r\u00e9alit\u00e9 la valeur du param\u00e8tre <code>verbe</code> (l'exemple est plus clair).</p> <p>Les r\u00e9ponses suivent g\u00e9n\u00e9ralement le format suivant, et tout sch\u00e9ma de r\u00e9ponse donn\u00e9 correspond en r\u00e9alit\u00e9 \u00e0 celui de la valeur de <code>data</code> :</p> <pre><code>{\n  \"host\": \"HTTP&lt;n\u00b0 serveur&gt;\",\n  \"code\": 200, // Ou autre en cas d'erreur\n  \"token\": \"&lt;token&gt;\",\n  \"message\": \"\", // Rarement pr\u00e9sent hors erreur, sinon en cas d'erreur\n  \"data\": {...},\n}\n</code></pre>"},{"location":"development/api/ed/api/#exemple","title":"Exemple","text":"<p>GET <code>/v3/eleves/{eleve.id}/messages/{message.id}.awp</code></p> <p>Avec les param\u00e8tres de recherche <code>mode=destinataire</code> et les param\u00e8tres en JSON <code>{ \"anneeMessages\": \"2021-2022\" }</code></p> <p>Correspond \u00e0 la requ\u00eate</p> <p>POST <code>https://api.ecoledirecte.com/v3/eleves/{\u00e9l\u00e8ve.id}/messages/{message.id}.awp?verbe=get&amp;mode=destinataire</code> avec le corps <code>data={ \"anneeMessages\": \"2021-2022\" }</code> ou bien sous forme encod\u00e9e <code>data=%7B%20%22anneeMessages%22%3A%20%222021-2022%22%20%7D</code></p>"},{"location":"development/api/ed/api/#utilisation-de-lapi","title":"Utilisation de l'API","text":""},{"location":"development/api/ed/api/#note-importante","title":"NOTE IMPORTANTE :","text":"<p>Avant tout, merci d'ajouter un user-agent dans vos headers pour \"faire croire\" \u00e0 ED que vous utilisez un \"vrai\" navigateur pour faire vos requetes !</p> <p>Il faut savoir que si vous utilisez un useragent pour obtenir un token, il faudra utiliser le m\u00eame useragent avec ce token. Si jamais un autre UA est utilis\u00e9, le token sera invlid\u00e9.</p> <p>Si vous n'avez pas d'id\u00e9e en voici un : <pre><code>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36\n</code></pre></p>"},{"location":"development/api/ed/api/#requetes-authentifiees","title":"Requ\u00eates authentifi\u00e9es","text":"<p>Cela concerne toutes les routes \u00e0 l'exception de <code>/login</code>. Il faut passer un <code>Header</code> \u00e0 la requ\u00eate avec le token (voir login):</p> <pre><code>X-Token: &lt;token&gt;\n</code></pre>"},{"location":"development/api/ed/api/#codes-erreur","title":"Codes erreur","text":"<p>Liste de differents codes erreur trouv\u00e9s au fil du temps avec leur description et des solutions pour fixer le pb</p> <p>Note : Les requ\u00eates renveront (sauf grosse erreur c\u00f4t\u00e9 serveur avec une 5xx) toujours dans leur header un code 200, m\u00eame en cas d'erreur</p> <pre><code>Code: 505\nProbl\u00e8me: Les identifiants donn\u00e9s \u00e0 l'api sont erron\u00e9s\nSolution: Il faut v\u00e9rifier le nom d'utilisateur et/ou le mot de passe (cf Login)\n\nCode: 520\nProbl\u00e8me: Le token est invalide\nSolution: Il faut reg\u00e9n\u00e9rer un token (cf Login)\n\nCode: 525\nProbl\u00e8me: Le token est expir\u00e9\nSolution: Il faut reg\u00e9n\u00e9rer un token (cf Login)\n\nCode: 40129\nProbl\u00e8me: Format JSON invalide\nSolution: V\u00e9rifier que le body de la requete a bien \u00e9t\u00e9 envoy\u00e9 en raw (ou plain text) et qu'il respecte le formatage donn\u00e9 dans la documentation\n</code></pre>"},{"location":"development/api/ed/api/#serversjson","title":"Servers.json","text":"<p>EcoleDirecte n'utilise pas qu'un seul serveur, il est possible d'obtenir des informations sur les serveurs du site en une seule requ\u00eate. La raison pour laquelle cette partie est incluse dans la section de r\u00e9f\u00e9rence r\u00e9side dans le fait que cela n'a pas v\u00e9ritablement d'utilit\u00e9 \u00e0 \u00eatre abord\u00e9 en profondeur.</p> <p>Notes : Il semblerait que le fichier soit statique :c (les pings sont les m\u00eames depuis que j'ai commenc\u00e9 la doc)</p> <p>Voici le lien du fichier : https://www.ecoledirecte.com/EDCluster/servers.json</p> <p>\u00c9chantillon du fichier : <pre><code>{\n  \"servers\": [ //On va recevoir une liste d'objets comme celui ci dessous\n    {\n      \"profile\": \"API\", //string | Alterne entre API / APIP et ALL\n      \"lastCheck\": \"Mon Mar 16 2020 20:55:47 GMT+0100 (CET)\", // la derni\u00e8re fois o\u00f9 le serveur a \u00e9t\u00e9 v\u00e9rifi\u00e9\n      \"name\": \"api.ecoledirecte.com\", //string | url du serveur\n      \"ip\": \"213.32.36.118\", //string | ip du serveur\n      \"status\": 1,//int | si le serveur est bien en ligne\n      \"responseTime\": 338.23671800643206, //float | ping\n      \"weigth\": 3, //int | ???\n      \"timeout\": false, //bool | Si le serveur a timeout\n      \"version\": \"Maj du 16/03/2020 \u00e0 16h27\", //string, version logicielle du serveur\n      \"bdTested\": \"95\", //string | ???\n      \"elapsedTime\": 338, //int | ???\n      \"timingPhases\": { //Object representatant la latence avec des d\u00e9tails\n        \"wait\": 78.6058100014925,\n        \"dns\": 3.143696002662182,\n        \"tcp\": 7.182815000414848,\n        \"firstByte\": 249.2012169957161,\n        \"download\": 0.10318000614643097,\n        \"total\": 338.23671800643206\n      },\n      \"timings\": {\n        \"socket\": 78.6058100014925,\n        \"lookup\": 81.74950600415468,\n        \"connect\": 88.93232100456953,\n        \"response\": 338.1335380002856,\n        \"end\": 338.23671800643206\n      },\n      \"httptested\": \"HTTP76\",\n      \"nbConnexions\": 1,//int | Nombre d'utilisateur connect\u00e9s ??\n      \"errorCode\": \"ESOCKETTIMEDOUT\"\n    },\n  ],\n}\n</code></pre></p> <p>Ici se trouve toute la documentation, assurez-vous d'avoir lu la r\u00e9f\u00e9rence avant de commencer.</p>"},{"location":"development/api/ed/api/#login","title":"Login","text":"<p>POST <code>/v3/login.awp</code></p> <p>Data en body : <pre><code>{\n  \"identifiant\": \"Username\",\n  \"motdepasse\": \"Password\",\n  \"isRelogin\": false,\n  \"uuid\": \"\"\n}\n</code></pre></p> <p>Diff\u00e9rents exemples de r\u00e9ponses compl\u00e8tes. Elles suivent le mod\u00e8le de r\u00e9ponse donn\u00e9 dans la r\u00e9f\u00e9rence.</p> Succ\u00e8s <pre><code>{\n  \"code\": 200,\n  \"token\": \"Super secret token here\", //Token de connexion (+3100 long)\n  \"message\": \"\", //Utilis\u00e9 pour afficher des messages d'erreur\n  \"data\": {\n    \"accounts\": [\n      // Liste d'utilisateur li\u00e9s au compte, voir la r\u00e9f\u00e9rence pour plus\n    ]\n  }\n}\n</code></pre> Erreur (Mot de passe invalide) <pre><code>{\n  \"code\": 505,\n  \"token\": \"\", //Toujours vide en cas d'erreur\n  \"message\": \"Mot de passe invalide !\",\n  \"data\": {\n    \"accounts\": []\n  }\n}\n</code></pre> Erreur (Utilisateur introuvable) <pre><code>{\n  \"code\": 505,\n  \"token\": \"\", //Toujours vide en cas d'erreur\n  \"message\": \"Identifiant et/ou mot de passe invalide !\",\n  \"data\": {\n    \"accounts\": []\n  }\n}\n</code></pre>"},{"location":"development/api/ed/api/#accounts-objects","title":"Accounts objects","text":"<p>Voici la structure d\u00e9taill\u00e9e d'un utilisateur (et comment\u00e9e) qui est contenu sous la cl\u00e9 <code>data</code> de la r\u00e9ponse.</p> <pre><code>{\n  \"idLogin\": 1324, //int | Param\u00e8tre de cookie pour savoir si l'utilisateur est connect\u00e9 via login/password\n  \"id\": 1234,  //int | Num\u00e9ro de compte\n  \"uid\": \"00000000000000000000000000000000\", //string | Il ne sert \u00e0 rien lui aussi\n  \"identifiant\": \"Username\", //string | Username du compte\n  \"typeCompte\": \"E\", //string | Voir Type de compte dans la r\u00e9f\u00e9rence\n  \"codeOgec\": \"000000000\", //string | Code RNE de l'\u00e9tablissement scolaire du compte\n  \"main\": true, //bool | Indique si ce compte est le compte principal de la famille(il peut en avoir plusieur comme avec un parent)\n  \"lastConnexion\": \"2021-10-05 18:28\", //string | Date de derni\u00e8re connexion \u00e0 l'api via l'endpoint login (multiples connexions possibles)\n  \"civilite\": \"\",\n  \"prenom\": \"John\",\n  \"particule\": \"\",\n  \"nom\": \"DOE\",\n  \"email\": \"email@example.com\",\n  \"anneeScolaireCourante\": \"2050-2051\",\n  \"nomEtablissement\": \"Github\",\n  \"logoEtablissement\": \"\",\n  \"couleurAgendaEtablissement\": \"#1796b0\",\n  \"dicoEnLigneLeRobert\": false,\n  \"socketToken\": \"secret token\", //string | Websocket, \u00e0 priori il n'est pas prit en compte concernant l'authentification (si on le change on ne sera pas d\u00e9connect\u00e9)\n  \"modules\": [\n    // Liste des modules\n  ],\n  \"parametresIndividuels\": {\n    \"lsuPoilDansLaMainBorne1\": \"\", // int | Param\u00e8tre parcoursup\n    \"lsuPoilDansLaMainBorne2\": \"\", // int | Param\u00e8tre parcoursup\n    \"lsuPoilDansLaMainBorne3\": \"\", // int | Param\u00e8tre parcoursup\n    \"modeCalculLSU\": \"\", // ??? | Param\u00e8tre de recommandation parcoursup\n    \"isQrcode\": false, // ???\n    \"accessibilit\u00e9Visuelle\": false, // bool | Pour les personnes malvoyantes, une police sp\u00e9ciale est mise en place\n    \"typeSaisieNotesDefaut\": \"\",\n    \"nbJoursMaxRenduDevoirCDT\": \"\",\n    \"typeViewCDTDefaut\": \"\"\n  },\n  \"profile\": {\n    \"sexe\": \"M\",\n    \"infoEDT\": \"\",\n    \"nomEtablissement\": \"Github\",\n    \"idEtablissement\": \"0\",\n    \"rneEtablissement\": \"0000000\",\n    \"telPortable\": \"\",\n    \"idReelEtab\": \"0\",\n    \"photo\": \"//doc1.ecoledirecte.com/PhotoEleves/x/y.jpg\",\n    \"classe\": {\n      \"id\": 44,\n      \"code\": \"TB\",\n      \"libelle\": \"Terminale B\",\n      \"estNote\": 1\n    }\n  }\n}\n</code></pre>"},{"location":"development/api/ed/api/#account-modules","title":"Account modules","text":"<p>Ces modules l\u00e0 sont ceux disponibles dans l'object account, ils ressemblent \u00e0 \u00e7a :</p> <pre><code>{\n  \"code\": \"CANTINE_BARCODE\", //string | Nom du module\n  \"enable\": false, //bool | Si le module est actif pour l'account en question\n  \"ordre\": 1, //int | Position dans la sidebar\n  \"badge\": 0, //int | ???\n  \"params\": {} //object | Parametres du modules\n}\n</code></pre> <p>Voici la liste des modules qui ont \u00e9t\u00e9 document\u00e9s jusqu'a pr\u00e9sent</p> <pre><code>{\n  \"code\": \"CANTINE_BARCODE\",\n  \"enable\": false,\n  \"ordre\": 1,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"VIE_SCOLAIRE\",\n  \"enable\": true,\n  \"ordre\": 10,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"VIE_DE_LA_CLASSE\",\n  \"enable\": true,\n  \"ordre\": 20,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"NOTES\",\n  \"enable\": true,\n  \"ordre\": 30,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"CLOUD\",\n  \"enable\": false,\n  \"ordre\": 90,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"MESSAGERIE\",\n  \"enable\": true,\n  \"ordre\": 40,\n  \"badge\": 0,\n  \"params\": {\n    \"isActif\": \"1\",\n    \"canParentsLireMessagesEnfants\": \"1\",\n    \"destAdmin\": \"0\",\n    \"destEleve\": \"0\",\n    \"destFamille\": \"0\",\n    \"destProf\": \"1\",\n    \"destEspTravail\": \"0\",\n    \"disabledNotification\": \"0\",\n    \"notificationEmailEtablissement\": \"1\",\n    \"choixMailNotification\": \"0\",\n    \"autreMailNotification\": \"\",\n    \"mailPro\": \"\",\n    \"mailPerso\": \"\",\n    \"messagerieApiVersion\": \"v3\",\n    \"blackListProfActive\": \"0\",\n    \"estEnBlackList\": \"0\",\n    \"afficherToutesLesClasses\": \"0\"\n  }\n},\n{\n  \"code\": \"EDT\",\n  \"enable\": true,\n  \"ordre\": 50,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"DOCUMENTS_ELEVE\",\n  \"enable\": true,\n  \"ordre\": 71,\n  \"badge\": 0,\n  \"params\": {\n    \"DocumentsNotesActif\": \"1\",\n    \"DocumentsVSActif\": \"1\",\n    \"DocumentsAdministratifActif\": \"1\"\n  }\n},\n{\n  \"code\": \"CAHIER_DE_TEXTES\",\n  \"enable\": true,\n  \"ordre\": 60,\n  \"badge\": 0,\n  \"params\": {\n    \"compteRenduSeance\": \"1\",\n    \"compteRenduSeancePrevisionnel\": \"0\",\n    \"isCDTPrimaire\": \"0\"\n  }\n},\n{\n  \"code\": \"MANUELS_SCOLAIRES\",\n  \"enable\": false,\n  \"ordre\": 62,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"QCM\",\n  \"enable\": true,\n  \"ordre\": 65,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"RESERVATIONS\",\n  \"enable\": false,\n  \"ordre\": 80,\n  \"badge\": 0,\n  \"params\": {\n    \"regime\": \"Externe\",\n    \"repasmidi_1\": \"0\",\n    \"repassoir_1\": \"0\",\n    \"repasmidi_2\": \"0\",\n    \"repassoir_2\": \"0\",\n    \"repasmidi_3\": \"0\",\n    \"repassoir_3\": \"0\",\n    \"repasmidi_4\": \"0\",\n    \"repassoir_4\": \"0\",\n    \"repasmidi_5\": \"0\",\n    \"repassoir_5\": \"0\",\n    \"repasmidi_6\": \"0\",\n    \"repassoir_6\": \"0\",\n    \"repasmidi_7\": \"0\",\n    \"repassoir_7\": \"0\"\n  }\n},\n{\n  \"code\": \"COMMANDE_PASSAGE\",\n  \"enable\": false,\n  \"ordre\": 81,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"CARNET_CORRESPONDANCE\",\n  \"enable\": false,\n  \"ordre\": 70,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"ESIDOC\",\n  \"enable\": false,\n  \"ordre\": 110,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"EDUNAO\",\n  \"enable\": false,\n  \"ordre\": 100,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"CATER\",\n  \"enable\": false,\n  \"ordre\": 90,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"ARD\",\n  \"enable\": false,\n  \"ordre\": 120,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"PEARLTREES\",\n  \"enable\": false,\n  \"ordre\": 170,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"EDUMALIN\",\n  \"enable\": false,\n  \"ordre\": 171,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"SUIVI_STAGE\",\n  \"enable\": false,\n  \"ordre\": 43,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"CLICKNPLAY\",\n  \"enable\": false,\n  \"ordre\": 171,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"VOLTAIRE\",\n  \"enable\": false,\n  \"ordre\": 175,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"ONISEPSERVICES\",\n  \"enable\": false,\n  \"ordre\": 172,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"AVENRIA\",\n  \"enable\": false,\n  \"ordre\": 173,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"SACOCHE\",\n  \"enable\": false,\n  \"ordre\": 174,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"ETUDIANT\",\n  \"enable\": false,\n  \"ordre\": 176,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"IJBOX\",\n  \"enable\": false,\n  \"ordre\": 177,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"FUTURNESS\",\n  \"enable\": false,\n  \"ordre\": 178,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"IMPALA\",\n  \"enable\": false,\n  \"ordre\": 179,\n  \"badge\": 0,\n  \"params\": {}\n},\n{\n  \"code\": \"SITUATION_FINANCIERE\",\n  \"enable\": false,\n  \"ordre\": 92,\n  \"badge\": 0,\n  \"params\": {}\n}\n</code></pre>"},{"location":"development/api/ed/api/#eleve","title":"\u00c9l\u00e8ve","text":""},{"location":"development/api/ed/api/#timeline","title":"Timeline","text":"<p>Je sais pas qui aurait besoin de la timeline mais bon (:</p> <p>GET <code>/v3/eleves/{id}/timeline.awp</code></p> <p>Data dans la r\u00e9ponse : <pre><code>[ //Liste des \u00e9v\u00e8nements relatif au compte (quelques exemples d'\u00e9v\u00e8nement peuvent \u00eatre trouv\u00e9s)\n  {\n    \"date\": \"2021-12-05\", //String | Date de l'ev\u00e8nement\n    \"typeElement\": \"Note\", //String | Type de l'event (Note / Abscence / Document / Messagerie / VieScolaire / ...)\n    \"idElement\": 0, // identifiant du message / evt de vie scolaire / document associ\u00e9\n    \"titre\": \"Nouvelle \u00e9valuation\", //String | Titre de l'evenement\n    \"soustitre\": \"ED.PHYSIQUE &amp; SPORT.\",\n    \"contenu\": \"natation du 15/11/2021\" //String | Contenu de l'evenement\n  },\n  {\n    \"date\": \"2021-09-20\",\n    \"typeElement\": \"VieScolaire\",\n    \"idElement\": 527,\n    \"titre\": \"Absence\",\n    \"soustitre\": \"2 demi-journ\u00e9es\",\n    \"contenu\": \"Justifi\u00e9e\"\n  },\n  {\n    \"date\": \"2021-09-17\",\n    \"typeElement\": \"Document\",\n    \"idElement\": 2538,\n    \"titre\": \"Nouveau document \u00e0 t\u00e9l\u00e9charger\",\n    \"soustitre\": \"\",\n    \"contenu\": \"Invitation 50 ans\"\n  },\n  {\n    \"date\": \"2021-09-09\",\n    \"typeElement\": \"Document\",\n    \"idElement\": 1144,\n    \"titre\": \"Nouveau document \u00e0 t\u00e9l\u00e9charger\",\n    \"soustitre\": \"\",\n    \"contenu\": \"Certificat de scolarit\u00e9\"\n  }\n]\n</code></pre></p>"},{"location":"development/api/ed/api/#timeline-commune","title":"Timeline commune","text":"<p>GET <code>/v3/E/{id}/timelineAccueilCommun.awp</code></p> <p>C'est la timeline de l'\u00e9tablissement que tous les \u00e9l\u00e8ves voient. Elle inclue les post-its.</p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  \"evenements\": [], // ?\n  \"postits\": Array&lt;{\n    \"id\": number,\n    \"type\": string, // \"info\", ?\n    \"contenu\": string // HTML encod\u00e9 en base64\n    \"dateCreation\": \"JJ/MM/AAAA\",\n    \"dateDebut\": \"JJ/MM/AAAA\",\n    \"dateFin\": \"JJ/MM/AAAA\",\n    \"cible\": [], // ?\n    \"ciblesEtab\": [], // ?\n    \"auteur\": {\n      \"civilite\": string, // M.\n      \"prenom\": string,\n      \"particule\": string,\n      \"nom\": string,\n      \"type\": string, // \"A\", ?\n      \"id\": string, // Identifiant de la personne\n    },\n  }&gt;,\n}\n</code></pre></p>"},{"location":"development/api/ed/api/#sondages","title":"Sondages","text":"<p>GET <code>/v3/rdt/sondages.awp</code></p> <p>J'ai eu une r\u00e9ponse avec une liste vide dans <code>data</code> donc r\u00e9ponse inconnue.</p>"},{"location":"development/api/ed/api/#formulaires","title":"Formulaires","text":"<p>LIST <code>/v3/edforms.awp</code></p> <p>Ici aussi, une liste vide donc r\u00e9ponse inconnue.</p>"},{"location":"development/api/ed/api/#visios","title":"Visios","text":"<p>GET <code>/v3/E/{id}/visios.awp</code></p> <p>Pas de visios ici non plus donc r\u00e9ponse inconnue.</p>"},{"location":"development/api/ed/api/#emploi-du-temps","title":"Emploi du temps","text":"<p>Le titre est plutot clair non ?</p> <p>Note : Si jamais le temps est incorrect alors data sera juste un array vide</p> <p>GET <code>/v3/E/{id}/emploidutemps.awp</code></p> <p>Data en body : <pre><code>{\n  \"dateDebut\": \"2021-12-15\",\n  \"dateFin\": \"2021-12-15\",\n  \"avecTrous\": false\n}\n</code></pre></p> <p>Data dans la r\u00e9ponse : <pre><code>[\n  {\n    \"id\": 46234, //int | Semble \u00eatre un identifiant unique du cours\n    \"text\": \"NUMERIQUE SC.INFORM.\", //string | Nom du cours (peut dif\u00e9rer de la mati\u00e8re)\n    \"matiere\": \"NUMERIQUE SC.INFORM.\",\n    \"codeMatiere\": \"NSINF\", //string | Code mati\u00e8re interne au service ED\n    \"typeCours\": \"COURS\", //string | Semble varier (COURS / PERMANENCE)\n    \"start_date\": \"2021-12-15 08:00\",\n    \"end_date\": \"2021-12-15 08:55\",\n    \"color\": \"#91b2bc\", //string | Couleur hex du cours sur l'edt\n    \"dispensable\": false, //string | Si l'\u00e9l\u00e8ve doit se rendre en cours\n    \"dispense\": 0, //int | Rhalala, le sport (:\n    \"prof\": \"MaitreRouge\",\n    \"salle\": \"SALLE 11 INFO\",\n    \"classe\": \"\", //string | vide si est dispens\u00e9 dans plusieures classes\n    \"classeId\": 0, //int | ID de la classe dans laquelle le cours est dispens\u00e9 (0 si est dispens\u00e9 dans plusieures classes)\n    \"classeCode\": \"\", //int | Code de la classe (je pense qu'on a compris avec le temps que c'\u00e9tait vide si la cours \u00e9tait dispens\u00e9 dans plusieures classes)\n    \"groupe\": \"T_NSINF-1\", //string | Nom du groupe (si dispens\u00e9 dans plusieures classes)\n    \"groupeCode\": \"T_NSINF-1\",//string | Code du groupe\n    \"isFlexible\": false, //bool | ???\n    \"groupeId\": 2004, //int | ID du groupe\n    \"icone\": \"\", //string | Depuis quand on peut avoir des icones ?\n    \"isModifie\": false, //bool | ???\n    \"contenuDeSeance\": false, //bool | false m\u00eame si du contenu est post\u00e9\n    \"devoirAFaire\": false, //bool | false m\u00eame si un devoir est post\u00e9\n    \"isAnnule\": false //bool | Si le cours est annul\u00e9 (franglais d\u00e9geu)\n  },\n  {\n    \"id\": 78905,\n    \"text\": \"ANGLAIS LV1\",\n    \"matiere\": \"ANGLAIS LV1\",\n    \"codeMatiere\": \"AGL1\",\n    \"typeCours\": \"COURS\",\n    \"start_date\": \"2021-12-15 10:00\",\n    \"end_date\": \"2021-12-15 10:55\",\n    \"color\": \"#ff66cc\",\n    \"dispensable\": false,\n    \"dispense\": 0,\n    \"prof\": \"Florian L\",\n    \"salle\": \"SALLE 44\",\n    \"classe\": \"Terminale B\",\n    \"classeId\": 44,\n    \"classeCode\": \"TB\",\n    \"groupe\": \"\",\n    \"groupeCode\": \"\",\n    \"isFlexible\": false,\n    \"groupeId\": 0,\n    \"icone\": \"\",\n    \"isModifie\": false,\n    \"contenuDeSeance\": false,\n    \"devoirAFaire\": false,\n    \"isAnnule\": false\n  }\n]\n</code></pre></p>"},{"location":"development/api/ed/api/#cahier-de-texte","title":"Cahier de texte","text":"<p>GET <code>/v3/Eleves/{id}/cahierdetexte.awp</code></p> <p>Donne les devoirs \u00e0 faire \u00e0 partir d'aujourd'hui (onglet \u00e0 faire).</p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  \"AAAA-MM-JJ\": Array&lt;{\n    matiere: string, // Nom d'affichage (\"FRANCAIS\" / \"ENSEIGN.SCIENTIFIQUE\")\n    codeMatiere: string, // Code (\"FRANC\" / \"G-SCI\")\n    aFaire: true, // ?\n    idDevoir: number,\n    documentsAFaire: false, // ?\n    donneLe: \"AAAA-MM-JJ\",\n    effectue: bool, // Si marqu\u00e9 par l'\u00e9l\u00e8ve comme tel ?\n    interrogation: bool,\n    rendreEnLigne: bool, // Si pr\u00e9sence d'un formulaire pour rendre un fichier ?\n  }&gt;,\n}\n</code></pre></p> <p></p> <p>GET <code>/v3/Eleves/{id}/cahierdetexte/{AAAA-MM-JJ}.awp</code></p> <p>Permet d'obtenir le travail \u00e0 faire en d\u00e9tail et le contenu de s\u00e9ance pour un jour sp\u00e9cifique.</p> <p>Note: Il y a deux champs contenu de s\u00e9ance, un directement dans la mati\u00e8re et un dans \u00e0 faire. Je suspecte que celui  dans \u00e0 faire soit pr\u00e9vu avant la s\u00e9ance alors que celui directement dans la mati\u00e8re soit renseign\u00e9 apr\u00e8s les faits.</p> <p>Je v\u00e9rifierai la diff\u00e9rence quand EcoleDirecte sera \u00e0 nouveau fonctionnel et que j'aurai un exemple des deux.</p> <ul> <li>Les donn\u00e9es \u00e0 l'int\u00e9rieur des cl\u00e9s <code>contenu</code> sont encod\u00e9es en base64. Une fois d\u00e9cod\u00e9es, on obtient le contenu en HTML dans une balise <code>&lt;p&gt;</code>.</li> </ul> <p>Data dans la r\u00e9ponse : <pre><code>{\n  date: \"AAAA-MM-JJ\", // M\u00eame date que celle pass\u00e9e dans l'URL\n  matieres: Array&lt;{\n    entityCode: string, // Classe (\"1A\") / groupe\n    entityLibelle: string, // Nom d'affichage de la classe (\"PREMIERE A\")\n    entityType: \"C\" | \"G\" | string, // C = Classe, G = Groupe, ...\n    matiere: string,\n    codeMatiere: string, // Pareils que route pr\u00e9c\u00e9dente\n    nomProf: string,\n    id: number, // M\u00eame id que idDevoir dans la route pr\u00e9c\u00e9dente\n    interrogation: bool,\n    blogActif: false, // ?\n    nbJourMaxRenduDevoir: number, // Date butoir du rendu ?\n    aFaire: {\n      idDevoir: number,\n      contenu: string, // D\u00e9tail du travail \u00e0 faire\n      rendreEnLigne: bool,\n      donneLe: \"AAAA-MM-JJ\",\n      effectue: bool,\n      ressource: \"\", // ?, vide jusqu'ici\n      ressourceDocuments: [], // ?, vide jusqu'ici\n      documents: Array&lt;{ // Pi\u00e8ces jointes\n        id: number, // Pour la t\u00e9l\u00e9charger via la route de t\u00e9l\u00e9chargement\n        libelle: string, // Nom\n        date: \"AAAA-MM-JJ\",\n        taille: number, // En octets\n        type: \"FICHIER_CDT\", // Autres valeurs ?\n        signatureDemandee: false, // ?\n        signature: {}, // ?\n      }&gt;,\n      commentaires: Array&lt;{\n        id: number, // identifiant du commentaire\n        idAuteur: number, // identifiant de l'auteur\n        profilAuteur: \"E\", // E = El\u00e8ve, autres valeurs ?\n        auteur: string, // Nom de l'auteur\n        date: \"AAAA-MM-JJ\",\n        message: string, // Encod\u00e9 en base64\n        supprime: false, // Si le commentaire a \u00e9t\u00e9 supprim\u00e9 ? (semble stupide)\n      }&gt;,\n      elementsProg: [], // ?\n      liensManuel: [], // URL des manuels associ\u00e9s \u00e0 la mati\u00e8re ?\n      documentsRendus: [], // Fichiers rendus lorsque le formulaire est pr\u00e9sent ?\n      contenuDeSeance: {\n        contenu: string,\n        documents: [],\n        commentaires: [],\n      },\n    },\n    contenuDeSeance: {\n      idDevoir: number, // Syst\u00e9matiquement le m\u00eame identifiant que id plus haut\n      contenu: string,\n      documents: [], // Pi\u00e8ces jointes ?\n      commentaires: [], // M\u00eame structure que commentaires sur travail \u00e0 faire ?\n      elementsProg: [],\n      liensManuel: [],\n    },\n  }&gt;\n}\n</code></pre></p> <p></p> <p>PUT <code>/v3/Eleves/{id}/cahierdetexte.awp</code></p> <p>Marque des devoirs comme faits ou non faits.</p> <p>Data en body : <pre><code>{\n  idDevoirsEffectues: number[],\n  idDevoirsNonEffectues: number[],\n}\n</code></pre></p> <p></p> <p>POST <code>/v3/eleves/{id}/afaire/commentaires.awp</code></p> <p>Poste un commentaire sous un travail \u00e0 faire ou un contenu de s\u00e9ance</p> <p>Data en body : <pre><code>{\n  message: string, // encod\u00e9 en base64\n  idContenu: number, // identifiant du devoir / contenu de s\u00e9ance\n}\n</code></pre></p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  id: number, // Identifiant du commentaire post\u00e9\n}\n</code></pre></p>"},{"location":"development/api/ed/api/#vie-scolaire","title":"Vie scolaire","text":"<p>Endpoint qui sert a afficher les donn\u00e9es sur la page vie de classe</p> <p>GET <code>/v3/eleves/{id}/viescolaire.awp</code></p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  \"absencesRetards\":[\n    {\n      \"id\":2936, //int | Identifiant interne de l'abscence / retard\n      \"idEleve\":0, //int | Normalement \u00e9gal \u00e0 l'id de l'eleve mais 0 dans mon cas\n      \"nomEleve\":\"\", //string | Normalement rempli mais vide dans mon cas\n      \"typeElement\":\"Absence\", //string | Sert pour savoir si c'est une \"Abscence\" ou un \"Retard\"\n      \"date\":\"2021-11-19\",\n      \"displayDate\":\"le vendredi 19 novembre 2021 de 08:30 \u00e0 16:30\",\n      \"libelle\":\"2 demi-journ\u00e9es\",\n      \"motif\":\"\",\n      \"justifie\":true, //bool | Si jamais justufi\u00e9 ou non (note : si jamais elle est en attente de justification, elle sera a true)\n      \"par\":\"\",\n      \"commentaire\":\"Merci de bien vouloir excuser l'absence de X pour la journ\u00e9e, il est souffrant.\\nBien cordialement,\",\n      \"typeJustification\":\" en attente de prise en compte par la vie scolaire\",\n      \"justifieEd\":true, // Si on peut justifier en ligne ?\n      \"aFaire\":\"\",\n      \"dateDeroulement\":\"\"\n    }\n  ],\n  \"sanctionsEncouragements\":[\n    {\n      \"id\":48,\n      \"idEleve\":0,\n      \"nomEleve\":\"\",\n      \"typeElement\":\"Punition\",\n      \"date\":\"2021-11-26\",\n      \"displayDate\":\"\",\n      \"libelle\":\"RETENUE\",\n      \"motif\":\"Trop de mots dans le carnet\",\n      \"justifie\":false,\n      \"par\":\"\",\n      \"commentaire\":\"\",\n      \"typeJustification\":\"\",\n      \"justifieEd\":false,\n      \"aFaire\":\"1 heure\",\n      \"dateDeroulement\":\"S'est d\u00e9roul\u00e9 le mer. 08 d\u00e9cembre&lt;BR&gt;de 13:00 \u00e0 14:00\"\n    }\n  ],\n  \"parametrage\": {\n    \"justificationEnLigne\":true,\n    \"absenceCommentaire\":true,\n    \"retardCommentaire\":true,\n    \"sanctionsVisible\":true,\n    \"sanctionParQui\":false,\n    \"sanctionCommentaire\":true,\n    \"encouragementsVisible\":false,\n    \"encouragementParQui\":false,\n    \"encouragementCommentaire\":false\n  }\n}\n</code></pre></p>"},{"location":"development/api/ed/api/#carnet-de-correspondance","title":"Carnet de correspondance","text":"<p>Permet d'obtenir une liste des correspondances.</p> <p>GET <code>/v3/eleves/{id}/eleveCarnetCorrespondance.awp</code></p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  \"correspondances\": [\n    // ?\n  ],\n  \"suivis\": [\n    // ?\n  ]\n}\n</code></pre></p>"},{"location":"development/api/ed/api/#documents-administratifs","title":"Documents administratifs","text":"<p>Permet d'obtenir la liste des documents administratifs associ\u00e9es \u00e0 une ann\u00e9e scolaire, ou \u00e0 l'ann\u00e9e actuelle.</p> <p>GET <code>/v3/elevesDocuments.awp</code></p> <p>Param\u00e8tres de recherche :  - <code>archive=</code> pour l'ann\u00e9e actuelle  - <code>archive=AAAA-AAAA</code> pour sp\u00e9cifier une ann\u00e9e pr\u00e9cise</p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  factures: [], // ?\n  notes: Array&lt;Document&gt;,\n  viescolaire: [], // ?\n  administratifs: Array&lt;Document&gt;,\n  inscriptions?: [], // ?\n  listesPiecesAVerser: {\n    listePieces: [], // ?\n    personnes: Array&lt;{id: 1234, nom: \"\u2026\", prenom: \"\u2026\", type: \"E\"}&gt;,\n    pieces: [], // ?\n    televersements: [] // ?\n  }\n}\n</code></pre></p> <p>Type des objets document : <pre><code>type Document = {\n  id: number,\n  libelle: string,\n  idEleve: number,\n  date: \"AAAA-MM-JJ\",\n  type: \"Note\" | \"Doc\" | \"\",\n  signatureDemandee: bool, // ?\n  signature: {}\n}\n</code></pre></p> <p>Les documents peuvent \u00eatre t\u00e9l\u00e9charg\u00e9s via la route de t\u00e9l\u00e9chargement gr\u00e2ce \u00e0 leur id.</p>"},{"location":"development/api/ed/api/#notes","title":"Notes","text":"<p>GET <code>/v3/eleves/{id}/notes.awp</code></p> <p>Les donn\u00e9es dans la r\u00e9ponse sont un peu un bordel. Il y a les moyennes par p\u00e9riode (trimestres et ann\u00e9e), puis les notes individuelles, puis les param\u00e8tres d'affichage des notes. Ce qui veut dire que m\u00eame si l'\u00e9tablissement d\u00e9sactive l'affichage de jsp quoi c'est quand m\u00eame transmis, je pense (donc on peut quand m\u00eame y acc\u00e9der).</p> <p>Data en body : <pre><code>{\n  \"anneeScolaire\": \"\",\n}\n</code></pre></p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  foStat: string, // Une sorte d'identifiant bizarre\n  periodes: Array&lt;{\n    idPeriode: \"A001\" | \"A002\" | \"A003\" | \"A999Z\",\n    codePeriode: \"A001\" | \"A002\" | \"A003\" | \"A999Z\",\n    periode: \"1er Trimestre\" | \"2\u00e8me Trimestre\" | \"3\u00e8me Trimestre\" | \"Ann\u00e9e\",\n    annuel: bool, // false pour A001..A003, true pour A999Z\n    dateDebut: \"AAAA-MM-JJ\",\n    dateFin: \"AAAA-MM-JJ\",\n    examenBlanc: false,\n    cloture: bool, // true si la p\u00e9riode est termin\u00e9e, sinon false (clotur\u00e9e)\n    dateConseil?: \"AAAA-MM-JJ\", // Pr\u00e9sent pour les trimestres\n    heureConseil?: \"HH:MM\",\n    heureFinConseil?: \"HH:MM\",\n    moyNbreJoursApresConseil: 0, // moyenne du nombre de jours apr\u00e8s le conseil, mais quels jours ?\n    ensembleMatieres: {\n      dateCalcul: \"AAAA-MM-JJ HH:MM\",\n      moyenneGenerale: \"XX,YY\", // C'est-\u00e0-dire une cha\u00eene de caract\u00e8re qui contient un nombre \u00e0 virgule\n      moyenneClasse: \"XX,YY\",\n      moyenneMin: \"XX,YY\",\n      moyenneMax: \"XX,YY\",\n      nomPP: string, // Prof principal\n      nomCE: \"\", // ?\n      decisionDuConseil: \"\", // Probablement une fonctionnalit\u00e9 de bulletin en ligne\n      disciplines: Array&lt;{\n        id: number,\n        codeMatiere: string,\n        codeSousMatiere: \"\",\n        discipline: string, // = mati\u00e8re\n        moyenne: \"XX,YY\",\n        moyenneClasse: \"XX,YY\",\n        moyenneMin: \"XX,YY\",\n        moyenneMax: \"XX,YY\",\n        coef: 1,\n        effectif: number, // Nombre de notes dans la moyenne ?\n        rang: number, // Rang de l'\u00e9l\u00e8ve dans la classe ?\n        groupeMatiere: false,\n        idGroupeMatiere: 0,\n        option: 0,\n        sousMatiere: false,\n        saisieAppreciationSSMAT: false,\n        professeurs: Array&lt;{ id: number, nom: string }&gt;,\n      }&gt;,\n      disciplinesSimulation: [],\n    },\n  }&gt;,\n  notes: Array&lt;{\n    id: number, // Identifiant de la note j'imagine\n    devoir: string, // Nom du contr\u00f4le\n    codePeriode: \"A001\" | \"A002\" | \"A003\",\n    codeMatiere: string, // Nom abbr\u00e9g\u00e9\n    libelleMatiere: string, // Nom de la mati\u00e8re\n    codeSousMatiere: \"\",\n    typeDevoir: \"CONTROLE\" | \"INTERROGATION ORALE\" | \"TRAVAUX PRATIQUES\" | \"DEVOIR SUR TABLE\" | \"INTERROGATION ECRITE\" | \"EXERCICE\" | \"ENSEIGNEMENTS PRATIQUES DISCIPLINAIRES\" | \"DEVOIR MAISON\", // Probablement pas renseign\u00e9 par le professeur donc liste probablement fixe\n    enLettre: false,\n    commentaire: string, // Probablement un truc \u00e9crit par le prof\n    uncSujet: \"\", // UNC = chemin de fichier, probablement un lien vers le fichier sujet / corrig\u00e9\n    uncCorrige: \"\",\n    coef: \"XX.YY\",\n    noteSur: \"XX,YY\",\n    valeur: \"XX,YY\", // Note, enfin\n    nonSignificatif: bool,\n    date: \"AAAA-MM-JJ\", // Date du contr\u00f4le\n    dateSaisie: \"AAAA-MM-JJ\", // Date de l'ajout de la note, souvent les deux sont \u00e9gaux (mais pas trjs)\n    valeurisee: false, // ?\n    moyenneClasse: \"XX.YY\",\n    minClasse: \"XX.YY\",\n    maxClasse: \"XX.YY\",\n    elementsProgramme: [], // Liste de comp\u00e9tences ou qqch du genre j'imagine\n  }&gt;,\n  parametrage: { // Diff\u00e9rents param\u00e8tres d'affichage, de ce qui s'affiche ou non\n    couleurEval1: \"#FF0000\", // Couleurs des comp\u00e9tences\n    couleurEval2: \"#FFC000\",\n    couleurEval3: \"#0070C0\",\n    couleurEval4: \"#00B050\",\n    libelleEval1: \"Tm9uIGF0dGVpbnRz\", // Non atteints (base64)\n    libelleEval2: \"UGFydGllbGxlbWVudCBhdHRlaW50cw==\", // Partiellement atteints\n    libelleEval3: \"QXR0ZWludHM=\", // Atteints\n    libelleEval4: \"RMOpcGFzc8Opcw==\", // D\u00e9pass\u00e9s\n    affichageMoyenne: true,\n    affichageMoyenneDevoir: true,\n    affichagePositionMatiere: false,\n    affichageNote: true,\n    affichageCompetence: false,\n    affichageEvaluationsComposantes: false,\n    affichageGraphiquesComposantes: true,\n    modeCalculGraphiquesComposantes: \"eval\",\n    affichageCompNum: false,\n    libelleEvalCompNum1: \"Tm9uIGF0dGVpbnQ=\", // Non atteint\n    libelleEvalCompNum2: \"UGFydGllbGxlbWVudCBhdHRlaW50\", // Partiellement atteint\n    libelleEvalCompNum3: \"QXR0ZWludA==\", // Atteint\n    affichageAppreciation: false,\n    appreciationsProf: false,\n    appreciationProfPrinc: false,\n    affichageMention: false,\n    affichageAppreciationCE: false,\n    affichageAppreciationVS: false,\n    affichageAppreciationCN: false,\n    affichageAppreciationClasse: false,\n    affichageAppreciationPeriodeCloturee: false,\n    moyenneUniquementPeriodeCloture: false,\n    moyennePeriodeReleve: true,\n    moyennePeriodeAnnuelle: true,\n    moyennePeriodeHorsP: true,\n    moyenneEleveDansNotes: true,\n    moyenneEleve: true,\n    moyenneEleveDansMoyenne: true,\n    moyenneGenerale: true,\n    moyenneCoefMatiere: true,\n    moyenneClasse: true,\n    moyenneMin: true,\n    moyenneMax: true,\n    moyenneRang: false,\n    moyenneSur: 20,\n    moyenneGraphique: true,\n    moyennesSimulation: false,\n    coefficientNote: true,\n    colonneCoefficientMatiere: true,\n    noteGrasSousMoyenne: false,\n    noteGrasAudessusMoyenne: false,\n    libelleDevoir: true,\n    dateDevoir: true,\n    typeDevoir: true,\n    noteUniquementPeriodeCloture: false,\n    notePeriodeReleve: false,\n    notePeriodeAnnuelle: false,\n    notePeriodeHorsP: false,\n    libellesAppreciations: Array&lt;\"Appr\u00e9ciation g\u00e9n\u00e9rale\"&gt;,\n    appreciationsParametrage: Array&lt;{\n      code: \"APP1\",\n      id: 1,\n      nbMaxCaractere: 400,\n      libelle: \"Appr\u00e9ciation g\u00e9n\u00e9rale\",\n    }&gt;,\n  },\n}\n</code></pre></p>"},{"location":"development/api/ed/api/#espaces-de-travail","title":"Espaces de travail","text":"<p>GET <code>/v3/E/{id}/espacestravail.awp</code></p> <p>Liste les espaces de travail relatifs \u00e0 l'\u00e9l\u00e8ve. Voir route suivante pour le type workspace</p> <p>Data dans la r\u00e9ponse : <pre><code>Array&lt;Workspace&gt;\n</code></pre></p> <p></p> <p>GET <code>/v3/E/{id}/espacestravail/{espace.id}.awp</code></p> <p>Data dans la r\u00e9ponse : <pre><code>type Workspace = {\n  id: number, // Identifiant de l'espace de travail\n  titre: string,\n  description: \"\", // Semble toujours vide, peut-\u00eatre une version plus courte de \"r\u00e9sum\u00e9\"\n  resume: string, // Encod\u00e9 en base64\n  cloud: true, // Probablement si le cloud, les discussions ou l'agenda sont activ\u00e9s ou non\n  discussion: bool,\n  agenda: bool,\n  public: bool, // Si l'espace est visible par tous les \u00e9l\u00e8ves\n  ouvert: bool, // Si les \u00e9l\u00e8ves peuvent rejoindre l'espace librement\n  type: \"LIBRE\",\n  estMembre: bool,\n  estAdmin: false,\n  salleDesProfs: false, // Probablement pour l'\u00e9quivalent prof des espaces de travail qui peuvent aussi servir de salle des profs num\u00e9rique\n  creePar: string, // Nom du cr\u00e9ateur (Pr\u00e9nom NOM ... NOMS)\n  droitUtilisateur: 0 | 1 | 2, // ?\n  nbMembres: 0,\n  couleurEvenementAgenda: \"#RRVVBB\",\n  creeLe?: \"JJ/MM/AAAA \u00e0 HH:MM\",\n}\n</code></pre></p> <p></p> <p>POST /v3/E/{id}/espacestravail/{espace.id}/acces.awp</p> <p>Permet de joindre un espace de travail.</p> <p>Si la notation typescript ne vous est pas famili\u00e8re, \u00e7a veut dire qu'il faut renseigner les m\u00eames champs que ceux de Workspace \u00e0 l'exception de <code>type</code> et <code>creeLe</code>, et aussi renseigner <code>cloudLibelle</code> et <code>fullLoaded</code>.</p> <p>TODO: V\u00e9rifier si le corps de requ\u00eate est n\u00e9cessaire pour joindre l'espace de travail</p> <p>Data en body : <pre><code>Omit&lt;Workspace, \"type\" | \"creeLe\"&gt; &amp; {\n  cloudLibelle: string, // Semble \u00eatre la m\u00eame valeur que le `titre` de l'espace\n  fullLoaded: false,\n}\n</code></pre></p> <p></p> <p>DELETE /v3/E/{id}/espacestravail/{espace.id}/acces.awp</p> <p>Permet de quitter un espace de travail.</p> <p>Pas besoin d'envoyer quoi que ce soit en body; pas de r\u00e9ponse non plus.</p>"},{"location":"development/api/ed/api/#manuels-numeriques","title":"Manuels num\u00e9riques","text":"<p>GET <code>/v3/Eleves/{id}/manuelsNumeriques.awp</code></p> <p>Liste les manuels num\u00e9riques disponibles pour l'\u00e9l\u00e8ve.</p> <p>Data dans la r\u00e9ponse : <pre><code>Array&lt;{\n  libelle: string,\n  url: string,\n  urlCouverture: string,\n  urlTelechargement: \"\",\n  editeur: string,\n  idRessource: string, // Je sais pas \u00e0 quoi \u00e7a peut bien servir (peut-\u00eatre dans l'EDT ?)\n  affecte: true, // ?\n  ogec: string, // Code RNE de l'\u00e9tablissement scolaire\n  eleves: [], // ?\n  disciplines: Array&lt;string&gt;, // Codes des mati\u00e8res concern\u00e9es. Vide ou 1 \u00e9l\u00e9ment jusqu'ici\n}&gt;\n</code></pre></p>"},{"location":"development/api/ed/api/#qcms","title":"QCMs","text":"<p>GET <code>/v3/eleves/{id}/qcms/0/associations.awp</code></p> <p>Aucune id\u00e9e de ce que \u00e7a fait. Si vous avez des donn\u00e9es, n'h\u00e9sitez pas.</p>"},{"location":"development/api/ed/api/#commandes","title":"Commandes","text":"<p>Il s'agit d'un syst\u00e8me de commande (click-and-collect).</p> <p>GET <code>/v3/menusRestaurationScolaire.awp</code></p> <p>Permet de r\u00e9cup\u00e9rer l'identifiant du menu (document). Data dans la r\u00e9ponse (pour chaque semaine disponible) : <pre><code>type Semaine = {\n  semaine: number, // num\u00e9ro de la semaine\n  doc: Array&lt;{\n    libelle: string, // nom du document (Exemple: Menu semaine n\u00b040)\n    id: number // num\u00e9ro du document (voir t\u00e9l\u00e9chargement pour r\u00e9cup\u00e9rer le document)\n  }&gt;\n}\n</code></pre></p> <p>GET <code>/v3/E/{id}/commandesPassage.awp</code></p> <p>Permet de r\u00e9cup\u00e9rer les points de passage possibles ainsi que des articles disponibles.</p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  historiqueCommandes: Array&lt;{\n    idCommande: number, //identifiant de commande\n    numeroCommande: string, //exemple: 010203-15 (probablement 15\u00e8me commande faite pour le 1er f\u00e9vrier 2003)\n    creneau: string, //exemple: \"12:00 - 13:45\"\n    date: string,\n    etat: string,\n    estHorsDelai: boolean,\n    idUser: number,\n    typeUser: string, // ELEVE\n    articles: Array&lt;{\n          code: string,\n          libelle: string,\n          description: string,\n          estFormule: boolean,\n          etat: number,\n          img: string, // (URL)\n          montant: number,\n          quantite: number,\n          quantiteMax: number,\n          estObligatoire: boolean\n          ordre: number,\n          possibilites: Array&lt;{\n            code: string,\n            libelle: string,\n            quantite: number,\n            etat: number,\n            idCateg: number,\n            libelleCateg: string,\n            ordre: number,\n            img: string,\n            choix: Array&lt;{\n              libelle: string,\n              id: number,\n              ordre: number\n            }&gt;,\n          }&gt;,\n        }&gt;,\n  }&gt;, // permet de r\u00e9cup\u00e9rer les commandes effectu\u00e9es\n  tabPointsDePassage: Array&lt;{\n      id: number, // identifiant du point de passage, va servir pour l'endpoint d'en dessous (idPDP)\n      libelle: string, // nom du point de passage\n      plafond: number, // ???\n      nbHeureLimiteAvantCommande: number,\n      decouvertActif: boolean, // ???\n      panierMinimum: number, // normalement que 0\n      categoriesArticles: Array&lt;{\n        id: number,\n        libelle: string,\n        ordre: number,\n        articles: Array&lt;{\n          code: string,\n          libelle: string,\n          description: string,\n          estFormule: boolean,\n          etat: number,\n          img: string, // (URL)\n          montant: number,\n          quantite: number,\n          quantiteMax: number,\n          estObligatoire: boolean\n          ordre: number,\n          possibilites: Array&lt;{\n            code: string,\n            libelle: string,\n            quantite: number,\n            etat: number,\n            idCateg: number,\n            libelleCateg: string,\n            ordre: number,\n            img: string,\n            choix: Array&lt;{\n              libelle: string,\n              id: number,\n              ordre: number\n            }&gt;,\n          }&gt;,\n        }&gt;,\n      }&gt;,\n      creneaux: Array&lt;{\n        estComplet: boolean,\n        libelle: string\n    }&gt;,\n    }&gt;,\n    joursFeries: Array&lt;{{string}}&gt;, //exemple : [\"2023-01-01\", \"2023-02-02\", etc...]\n}\n</code></pre></p> <p>GET /v3/E/{id}/commandesPassage/pointsDePassage/{idPDP}/{date}.awp</p> <p>Permet de v\u00e9rifier si le point de passage est possible le jour indiqu\u00e9 dans la requ\u00eate.Le format de la date est AAAAMMJJ.</p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  creneauMinRetrait: string, // ???\n  soldePM: number, // portefeuille de l'\u00e9l\u00e8ve\n  libellePM: string, //\n  montantDecouvert: number, //???\n  montantSemaineAtteint: boolean,\n  montantJournalierAtteint: boolean,\n  nbPassageSemaineAtteint: boolean,\n  montantSemaine: number,\n  montantJournalier: number,\n  montantActuelSemaineUser: number,\n  nbPassageSemaine: number,\n  articlesSansStock: Array&lt;{{string}}&gt;, // exemple : [\"DONUTS\", \"GAUFFRES\"]\n  articlesAvecStock: Array&lt;{\n    id: number,\n    code: string\n    type: string,\n    montant: number,\n    idCateg: number\n  }&gt;\n}\n</code></pre></p> <p>POST <code>/v3/E/{id}/commandesPassage.awp</code></p> <p>Permet de passer une commande. Body: <pre><code>{\n  articles: Array&lt;{\n          code: string,\n          libelle: string,\n          description: string,\n          estFormule: boolean,\n          etat: number,\n          img: string, // (URL)\n          montant: number,\n          quantite: number,\n          quantiteMax: number,\n          estObligatoire: boolean\n          ordre: number,\n          possibilites: Array&lt;{\n            code: string,\n            libelle: string,\n            quantite: number,\n            etat: number,\n            idCateg: number,\n            libelleCateg: string,\n            ordre: number,\n            img: string,\n            choix: Array&lt;{\n              libelle: string,\n              id: number,\n              ordre: number\n            }&gt;,\n          }&gt;,\n        }&gt;,\n  creneau: string, //exemple: \"12:00\"\n  date: string, // AAAA-MM-JJ\n  pointDePassage: number // (idPDP)\n}\n</code></pre> En r\u00e9ponse, si la commande contient les bonnes informations : <pre><code>{\n        idCommande: number,\n        numeroCommande: string,\n        creneau: string,\n        date: string, // AAAA-MM-JJ\n        dateCreneau: string,\n        etat: string,\n        estHorsDelai: boolean,\n        idUser: number,\n        typeUser: string,\n    articles: Array&lt;{\n              code: string,\n              libelle: string,\n              description: string,\n              estFormule: boolean,\n              etat: number,\n              img: string, // (URL)\n              montant: number,\n              quantite: number,\n              quantiteMax: number,\n              estObligatoire: boolean\n              ordre: number,\n              possibilites: Array&lt;{\n                code: string,\n                libelle: string,\n                quantite: number,\n                etat: number,\n                idCateg: number,\n                libelleCateg: string,\n                ordre: number,\n                img: string,\n                choix: Array&lt;{\n                  libelle: string,\n                  id: number,\n                  ordre: number\n                }&gt;,\n              }&gt;,\n            }&gt;,\n        pointDePassage: {\n            id: number,\n            libelle: string\n        }\n    }\n</code></pre> Sinon, elle renvoie un code 512.</p> <p>DELETE <code>v3/E/{id}/commandesPassage/{idCommande}.awp</code></p> <p>Permet de supprimer une commande, selon l'idCommande. Il ne renvoie rien si l'idCommande est bon. Sinon, il renvoie simplement un code erreur 210.</p>"},{"location":"development/api/ed/api/#classe","title":"Classe","text":""},{"location":"development/api/ed/api/#vie-de-la-classe","title":"Vie de la classe","text":"<p>Il existe deux routes diff\u00e9rentes, mais je n'ai eu que des objets vides comme r\u00e9ponse.</p> <p>GET <code>/v3/Classes/{classe.id}/viedelaclasse.awp</code></p> <p>GET <code>/v3/R/{classe.id}/viedelaclasse.awp</code></p>"},{"location":"development/api/ed/api/#cloud","title":"Cloud","text":""},{"location":"development/api/ed/api/#chemins","title":"Chemins","text":"<p>Les fichiers dans le cloud sont identifi\u00e9s par leur chemin. C'est des chemins windows, parfois appel\u00e9s <code>unc</code> dans l'API.</p> <p>On trouve diff\u00e9rents types de chemins, avec RNE le code RNE de l'\u00e9tablissement :   - Les chemins des clouds \u00e9l\u00e8ves, du type <code>\\{RNE}\\E\\{id}\\...</code>   - Les chemins des clouds des espaces de travail, du type <code>\\{RNE}\\W\\{ent.id}\\...</code>   - Les chemins des ressources temporaires, du type <code>\\\\STOCK-TMP\\tmp\\{RNE}_{role}_{id}_{hash}\\...</code></p> <p>Parfois les chemins sont pr\u00e9fix\u00e9s par un autre cloud, du type <code>\\\\CLOUD08\\cloud\\...</code>. M\u00eame si c'est pas pour tous les fichiers. TODO: \u00c9lucider la question.</p>"},{"location":"development/api/ed/api/#cloud-eleve","title":"Cloud \u00e9l\u00e8ve","text":"<p>GET <code>/v3/cloud/E/{id}.awp</code></p> <p>Permet d'obtenir des informations sur un fichier ou un dossier (n\u0153ud) dans le cloud de l'\u00e9l\u00e8ve.</p> <p>Lorsque des informations sur un dossier sont demand\u00e9es, ses n\u0153uds fils sont aussi transmis, y compris les sous-dossiers et leurs n\u0153uds fils \u00e0 eux aussi, jusqu'\u00e0 une certaine profondeur. Apr\u00e8s, la propri\u00e9t\u00e9 <code>isLoaded</code> des sous-dossiers est mise sur <code>false</code> et il faut refaire une requ\u00eate pour obtenir le contenu de ces sous-dossiers.</p> <p>Param\u00e8tres de recherche :  - <code>idfolder=</code> chemin de dossier, pour sp\u00e9cifier un dossier dont on veut obtenir le contenu. Ne pas indiquer pour obtenir la racine.</p> <p>Data dans la r\u00e9ponse : <pre><code>Array&lt;N\u0153ud&gt;\n</code></pre></p> <pre><code>type N\u0153ud = {\n  type: \"folder\" | \"file\",\n  libelle: string, // Nom du dossier ou fichier, \"/\" pour la racine\n  date: \"AAAA-MM-JJ HH:MM:SS\",\n  taille: number,\n  quota?: number,\n  id: string, // Chemin UNC\n  isLoaded?: bool, // Pr\u00e9sent pour les dossiers, voir plus haut\n  children?: Array&lt;N\u0153ud&gt;, // Pr\u00e9sent pour les dossiers\n  readonly: bool,\n  url?: string, // Pour les liens, leur URL\n  description?: string, // Pour les liens, leur description encod\u00e9e en base64\n  proprietaire?: { // Pr\u00e9sent pour les fichiers\n    id: number,\n    type: \"E\",\n    nom: string,\n    prenom: string,\n    particule: \"\",\n  }\n}\n</code></pre> <p></p> <p>POST <code>/v3/cloud/E/{id}.awp</code></p> <p>Permet de cr\u00e9er un nouveau fichier ou dossier dans le cloud. Pour ajouter des fichiers existants, utiliser la route de t\u00e9l\u00e9versement.</p> <p>La route prend en body une propri\u00e9t\u00e9 <code>parentNode</code> qui peut \u00eatre un objet <code>N\u0153ud</code> complet mais la propri\u00e9t\u00e9 <code>id</code> est la seule n\u00e9cessaire, le reste est facultatif.</p> <p>Data en body : <pre><code>{\n  parentNode: Pick&lt;N\u0153ud, \"id\"&gt;,\n  libelle: string, // Nom du nouveau n\u0153ud\n  typeRessource: \"file\" | \"folder\",\n}\n</code></pre></p> <p>Data dans la r\u00e9ponse : <pre><code>N\u0153ud // N\u0153ud cr\u00e9\u00e9\n</code></pre></p> <p></p> <p>PUT <code>/v3/cloud/E/{id}.awp</code></p> <p>Permet de renommer un n\u0153ud et de changer le lien ou la description d'un lien.</p> <p>Data en body : <pre><code>{\n  node: N\u0153ud,\n  newLibelle: string,\n  newUrl?: string,\n  newDescription?: string,\n}\n</code></pre></p> <p>Data dans la r\u00e9ponse : <pre><code>{\n  newId: string,\n  newLibelle: string,\n  newUrl?: string, // Pr\u00e9sents pour les liens\n  newDescription?: string,\n}\n</code></pre></p> <p></p> <p>COPY <code>/v3/cloud/E/{id}.awp</code></p> <p>Permet de copier des n\u0153uds dans un autre dossier.</p> <p>Data en body : <pre><code>{\n  parentNode: N\u0153ud, // Dossier de destination. TODO: V\u00e9rifier sp\u00e9cificit\u00e9 (id)\n  clipboard: Array&lt;N\u0153ud&gt;, // N\u0153uds \u00e0 copier\n}\n</code></pre></p> <p>Data dans la r\u00e9ponse : <pre><code>N\u0153ud // Dossier de destination, avec les nouveaux n\u0153uds copi\u00e9s\n</code></pre></p> <p></p> <p>DELETE <code>/v3/cloud/E/{id}.awp</code></p> <p>Permet de supprimer un n\u0153ud.</p> <p>Data en body : <pre><code>{\n  tabNodes: Array&lt;N\u0153ud&gt;, // TODO: V\u00e9rifier si plus d'un n\u0153ud peut \u00eatre sp\u00e9cifi\u00e9\n                         // TODO: V\u00e9rifier sp\u00e9cificit\u00e9 (id)\n}\n</code></pre></p>"},{"location":"development/api/ed/api/#cloud-espaces-de-travail","title":"Cloud espaces de travail","text":"<p>Il existe une autre route pour les espaces de travail, <code>/v3/cloud/W/{workspace.id}.awp</code>.</p> <p>Il est tr\u00e8s probable que cette route fonctionne exactement comme celle \u00e9l\u00e8ve.</p>"},{"location":"development/api/ed/api/#televersement","title":"T\u00e9l\u00e9versement","text":"<p>POST <code>/v3/televersement.awp</code></p> <p>Permet de t\u00e9l\u00e9verser un ficher dans le cloud ou dans le stockage temporaire pour utilisation comme pi\u00e8ce jointe.</p> <p>Le corps de la requ\u00eate contient les fichiers t\u00e9l\u00e9vers\u00e9s au format <code>multipart/form-data</code>, ou alors des donn\u00e9es en JSON lorsqu'on t\u00e9l\u00e9verse un lien dans le cloud (oui c'est possible). Notez que le serveur semble totalement ignorer le header <code>Content-Type</code> donc pas de soucis \u00e0 se faire.</p> <p>Si vous tentez de t\u00e9l\u00e9verser un fichier dans le cloud mais qu'un fichier du m\u00eame nom existe d\u00e9j\u00e0, la r\u00e9ponse (compl\u00e8te) aura le code d'erreur 573 et un message descriptif</p> <ul> <li>Pour t\u00e9l\u00e9verser un fichier dans le stockage temporaire, il suffit d'envoyer le fichier en corps de requ\u00eate comme cit\u00e9 pr\u00e9c\u00e9demment.</li> </ul> <p>Dans ce cas, data dans la r\u00e9ponse : <pre><code>{\n  unc: string, // Chemin du fichier temporaire\n  libelle: string, // Nom du fichier\n}\n</code></pre></p> <p>On peut noter que le chemin est aussi pr\u00e9sent dans la clef <code>message</code> de la r\u00e9ponse compl\u00e8te (pas limit\u00e9e \u00e0 <code>data</code>).</p> <ul> <li> <p>Pour t\u00e9l\u00e9verser un fichier dans le cloud, il faut en plus d'envoyer le fichier en corps, sp\u00e9cifier en param\u00e8tre de recherche <code>mode=CLOUD</code> et <code>dest={chemin}</code>, chemin \u00e9tant le chemin du dossier dans lequel on t\u00e9l\u00e9verse.</p> </li> <li> <p>Pour t\u00e9l\u00e9verser un lien dans le cloud, il suffit d'envoyer une requ\u00eate avec un corps en JSON standard, qui contient : <pre><code>{\n  file: \"{nom}.url;{url}\", // nom \u00e9tant le nom du lien et url son url\n  description: string, // sa description encod\u00e9e en base64\n}\n</code></pre></p> </li> </ul> <p>Dans ces deux cas, data dans la r\u00e9ponses : <pre><code>N\u0153ud\n</code></pre></p>"},{"location":"development/api/ed/api/#telechargement","title":"T\u00e9l\u00e9chargement","text":"<p>GET <code>/v3/telechargement.awp</code></p> <p>Permet de t\u00e9l\u00e9charger les fichiers dans le cloud, en pi\u00e8ce jointe, dans le cahier de texte et les documents administratifs.</p> <p>Data en body : <pre><code>{\n  forceDownload: 0, // ?\n}\n</code></pre></p> <ul> <li>Pour t\u00e9l\u00e9charger un fichier dans le cloud, il suffit d'indiquer les param\u00e8tre de recherche <code>leTypeDeFichier=CLOUD</code> et <code>fichierId={chemin}</code>, chemin \u00e9tant le chemin du fichier</li> <li>Pour t\u00e9l\u00e9charger une pi\u00e8ce jointe dans le cahier de texte, il suffit d'indiquer les param\u00e8tres de recherche <code>leTypeDeFichier=FICHIER_CDT</code> et <code>fichierId={id}</code>, id \u00e9tant l'identifiant de la pi\u00e8ce jointe</li> <li>Pour t\u00e9l\u00e9charger une pi\u00e8ce jointe \u00e0 un message, il suffit d'indiquer les param\u00e8tres de recherche <code>leTypeDeFichier=PIECE_JOINTE</code>, <code>fichierId={id}</code>, id \u00e9tant l'identifiant de la pi\u00e8ce jointe et \u00e9ventuellement <code>anneeMessages=AAAA-AAAA</code> pour t\u00e9l\u00e9charger des pi\u00e8ces jointes d'anciens messages</li> <li>Pour t\u00e9l\u00e9charger un document administratif, il suffit d'indiquer le param\u00e8tre de recherche <code>fichierId={id}</code>, id \u00e9tant l'identifiant du document, et \u00e9ventuellement <code>archive=true</code> et <code>anneeArchive=AAAA-AAAA</code> pour acc\u00e9der \u00e0 d'anciens documents</li> <li>Pour t\u00e9l\u00e9charger un menu de commande click-and-collect (ici), il faut ajouter <code>leTypeDeFichier=FICHIER_MENU_RESTAURATION</code>, ainsi que <code>fichierId={id}</code>, id \u00e9tant le num\u00e9ro du document.</li> </ul> <p>La r\u00e9ponse est \u00e9videmment le contenu du document directement.</p>"},{"location":"development/api/ed/papillon/","title":"Papillon ED Core - Documentation","text":"<p><code>papillon-ed-core</code> est le module qui permet la connexion entre Ecoledirecte et Papillon. Il contient des morceaux de code r\u00e9utilisable qui permettent de r\u00e9cup\u00e9rer les donn\u00e9es scolaires. C'est l'interm\u00e9diaire entre Ecoledirecte et <code>IndexDataInstance</code>, qui permet l'affichage des donn\u00e9es dans Papillon.</p> <p>Github</p> <p>Le r\u00e9po du module est disponible sur Github .</p> <p>EcoleDirecte est une marque d\u00e9pos\u00e9e de la soci\u00e9t\u00e9 Aplim . Papillon n'est pas affili\u00e9 \u00e0 EcoleDirecte et \u00e0 Aplim.</p>"},{"location":"development/api/ed/papillon/#sommaire","title":"Sommaire","text":"<ul> <li>Guide de l'utilisateur<ul> <li>Installation</li> <li>Utilisation</li> <li>R\u00e9f\u00e9rences</li> </ul> </li> <li>Guide du d\u00e9veloppeur<ul> <li>Installation</li> <li>Structure</li> <li>Scripts</li> </ul> </li> </ul>"},{"location":"development/api/ed/papillon/#guide-de-lutilisateur","title":"Guide de l'utilisateur","text":"<p>Ce guide vous permet de comprendre comment fonctionne ce module et comment vous pouvez l'utiliser.</p> <p>Ce projet est d\u00e9velopp\u00e9 en Typescript, il est compatible avec toutes les technologies Javascript et fonctionne avec npm 18 !</p>"},{"location":"development/api/ed/papillon/#installation","title":"Installation","text":"<p>Node Package Manager</p> <p>Le module est disponible sur npmjs.com  sous le nom de <code>@papillonapp/ed-core</code>.</p> <pre><code>npm i @papillonapp/ed-core\n</code></pre>"},{"location":"development/api/ed/papillon/#utilisation","title":"Utilisation","text":"<p>Ce module utilise des fonctions asynchrones pour fonctionner.</p> <p>1. Importer le module <pre><code>import { EDCore } from \"@papillonapp/ed-core\";\n</code></pre></p> <p>2. Initialiser le module <pre><code>const ED = new EDCore()\n</code></pre></p> <p>3. S'authentifier</p> <p>Merci de vous r\u00e9f\u00e9rer \u00e0 la section authentification.</p> <pre><code>await ED.auth.login(\"username\", \"password\", \"uuidv4\")\n</code></pre> <p>[TIP] Pour g\u00e9n\u00e9rer un UUIDv4, vous pouvez utiliser le module <code>uuid</code>, par d\u00e9faut install\u00e9: <pre><code>import { v4 as uuidv4 } from 'uuid';\nconst uuid = uuidv4()\nawait ED.auth.login(\"username\", \"password\", uuid)\n</code></pre></p> <p>4. Visitez la documentation</p> <p>D\u00e9sormais connect\u00e9, il vous faudra lire la documentation des r\u00e9f\u00e9rences pour comprendre et utiliser chaque fonctionnalit\u00e9.</p> <p>Des exemples sont aussi \u00e9crits dans <code>examples/</code>. Ajoutez vos identifiants dans <code>examples/login.ts</code> et tester les fonctionnalit\u00e9s avec <code>ts-node examples/&lt;fichier&gt;.ts</code></p> <p>Il existe aussi des documentations plus pr\u00e9cises sur certaines fonctionnalit\u00e9s : - Commandes - T\u00e9l\u00e9chargements</p>"},{"location":"development/api/ed/papillon/#authentification","title":"Authentification","text":"<p>Cette section est d\u00e9di\u00e9e \u00e0 l'authentification, et vous permettra de comprendre plus pr\u00e9cis\u00e9ment les diff\u00e9rents modes d'authentification et leurs diff\u00e9rences...</p> <p>L'authentification est accessible ainsi : <pre><code>ED.auth\n</code></pre></p> <p>Vous pouvez vous authentifier de plusieurs mani\u00e8res : - Classique; \u00e9quivalent \u00e0 une connexion depuis un navigateur. (abandonn\u00e9) - Mobile ou permanante; \u00e9quivalent \u00e0 une authentification depuis l'application mobile Ecoledirecte. - Token; d\u00e9conseill\u00e9e, vous vous connectez avec un token Ecoledirecte, vous devez donc assurer le renouvellement de celui-ci vous-m\u00eame.</p> <p>[!CAUTION] Authentification \u00e0 facteurs ! Depuis Avril 2024, Ecoledirecte a mis en place une authentification \u00e0 facteurs, avec un QCM pour s\u00e9curiser les connexions... Veuillez lire \u00c0 double facteurs</p>"},{"location":"development/api/ed/papillon/#permanante","title":"Permanante","text":"<p>Depuis la version <code>0.2.7</code>, la connexion permanante, permettant de renouveler le token est utilis\u00e9e par d\u00e9faut par <code>ed-core</code>.</p> <p>Elle correspond \u00e0 une authentification depuis l'application Ecoledirecte mobile. Vous aurez besoin de g\u00e9n\u00e9rer un UUIDv4, qui sera l'identifiant unique de votre \"session\" et permettra le renouvellement du token.</p> <pre><code>import { v4 as uuidv4 } from 'uuid';\nimport { EDCore } from \"@papillonapp/ed-core\";\n\nconst uuid = uuidv4()\nawait ED.auth.login(\"username\", \"password\", uuid)\n</code></pre> <p>Quand une erreur de code <code>12</code> apparait, c'est que la double authentification est n\u00e9cessaire.</p>"},{"location":"development/api/ed/papillon/#token","title":"Token","text":"<p>L'authentification par token permet de se connecter \u00e0 Ecoledirecte avec un token g\u00e9n\u00e9r\u00e9 par vos soins.</p> <pre><code>const userId = 0000\nED.setToken('token', userId)\n</code></pre> <p>L'identifiant de l'utilisateur est n\u00e9cessaire.</p>"},{"location":"development/api/ed/papillon/#a-double-facteurs","title":"\u00c0 double facteurs","text":"<p>Quand une erreur de code <code>12</code> est renvoy\u00e9e, vous devez r\u00e9pondre \u00e0 des questions pour vous authentifier...</p> <p>Il est conseill\u00e9 de lire <code>examples/login.ts</code> pour voir une impl\u00e9mentation de cette double authentification</p> <ol> <li>R\u00e9cup\u00e9rer le jeton de la double authentification <pre><code>const token = await ED.auth.get2FAToken(\"username\", \"password\")\n</code></pre></li> <li>R\u00e9cup\u00e9rer le questionnaire <pre><code>const QCM = await ED.auth.get2FA(token)\nQCM.question // La question\nQCM.propositions // Les r\u00e9ponses possibles\n</code></pre></li> <li>Envoyer la r\u00e9ponse <pre><code>const authFactors = await ED.auth.resolve2FA(\"La r\u00e9ponse\") // Renvoie un objet utilis\u00e9 pour s'authentifier\n</code></pre></li> <li>S'authentifier avec les facteurs <pre><code>await ED.auth.login(\"username\", \"password\", \"uuid\", authFactors)\n</code></pre></li> </ol>"},{"location":"development/api/ed/papillon/#commandes","title":"Commandes","text":"<p>[!WARNING] Le module de commande est encore instable !</p> <p>Ce module est accessible ainsi : <pre><code>ED.orders\n</code></pre></p> <p>Une commande s'effectue ainsi: 1. S\u00e9l\u00e9ction du point de passage 2. S\u00e9l\u00e9ction des articles et envoi de la commande</p> <ul> <li> <p>Pour r\u00e9cup\u00e9rer les anciennes commandes et les \"points de passage\" (lieux ; caf\u00e9t\u00e9ria, food truck); <pre><code>ED.orders.fetchOrders()\n</code></pre> Renvoie ordersResData</p> </li> <li> <p>Pour initier une commande (correspond s\u00e9l\u00e9ction d'un point de passage); <pre><code>ED.orders.startOrder(1, \"2024-01-01\")\n</code></pre> Renvoie startOrderResData</p> </li> <li> <p>Pour envoyer, passer une commande; <pre><code>const articles = [\n  {\n    code: \"BEI-POM\",\n    libelle: \"Beignet Pomme\",\n    description: \"string;\",\n    estFormule: false,\n    etat: 0,\n    img: \"\",\n    montant: 1.5,\n    quantite: 1,\n    quantiteMax: 3,\n    estObligatoire: false,\n    ordre: 1\n  }\n]\nED.orders.order(articles, \"12:00\", \"2024-01-01\", 1)\n</code></pre> Renvoie orderPlacedResData</p> </li> <li> <p>Pour supprimer une commande; <pre><code>ED.orders.deleteOrder(100)\n</code></pre> Renvoie une r\u00e9ponse vide</p> </li> </ul>"},{"location":"development/api/ed/papillon/#telechargements","title":"T\u00e9l\u00e9chargements","text":"<p>\u00c0 plusieurs endroits vous pourrez \u00eatre amen\u00e9 \u00e0 devoir t\u00e9l\u00e9charger des documents (exemple: documents administratifs renvoy\u00e9s par <code>ED.documents</code>).</p> <p>Le module <code>ED.downloads</code> vous permet donc de r\u00e9cup\u00e9rer des objets de ces documents: <pre><code>ED.downloads.getFileBlob(1235, \"ADMINISTRATIF\")\n</code></pre> Ceci renvoie le blob du document administratif \u00e0 l'identifiant <code>1235</code></p> <p>Exemple avec une ann\u00e9e: <pre><code>ED.downloads.getFileBlob(1235, \"ADMINISTRATIF\", \"2022-2023\")\n</code></pre> Ceci renvoie le blob du document administratif de l'ann\u00e9e <code>2022-2023</code> \u00e0 l'identifiant <code>1235</code></p> <p>Exemple avec base64: <pre><code>ED.downloads.getFileBase64(1235, \"ADMINISTRATIF\", \"2022-2023\")\n</code></pre> Ceci renvoie le fichier sous format base64 (pour le t\u00e9charger par exemple)</p> <p>Voici tous les types de documents support\u00e9s: <pre><code>type fileType = \"CLOUD\" | \"FICHIER_CDT\" | \"PIECE_JOINTE\" | \"FICHIER_MENU_RESTAURATION\" | \"ADMINISTRATIF\";\n</code></pre> - \"CLOUD\"; l'argument <code>fileId</code> sera le chemin complet du document dans le cloud. - \"FICHIER_CDT\"; t\u00e9l\u00e9charger un fichier du Cahier De Texte. - \"PIECE_JOINTE\"; t\u00e9l\u00e9charger une pi\u00e8ce jointe (si le message provient d'une ann\u00e9e ant\u00e9rieur, l'argument <code>year</code> devra contenir l'ann\u00e9e). - \"FICHIER_MENU_RESTAURATION\"; t\u00e9l\u00e9charger un menu (voir <code>Menu</code> dans <code>getCantine.ts</code>). - \"ADMINISTRATIF\"; t\u00e9l\u00e9charger un fichier administratif (si le document provient d'une ann\u00e9e ant\u00e9rieur, l'argument <code>year</code> devra contenir l'ann\u00e9e).</p>"},{"location":"development/api/ed/papillon/#references","title":"R\u00e9f\u00e9rences","text":"<p>[!NOTE] Des exemples sont disponibles dans <code>exemples/</code></p> <p>Les r\u00e9f\u00e9rences sont donn\u00e9es ainsi:</p> Propri\u00e9t\u00e9 Type Commentaire nom <code>undefined \\| string</code> <ul> <li>Certains types ont des liens hypertextes vers la r\u00e9f\u00e9rence du type.</li> <li>Certains liens renvoient vers le fichier de d\u00e9finition du type.</li> <li>Le signe ? d\u00e9signe que la valeur peut \u00eatre non-d\u00e9finie !</li> <li>Si la propri\u00e9t\u00e9 est une fonction, le type est <code>(arg: type) =&gt; type</code>.</li> <li>Si la fonction est <code>async</code>, elle renvoie une <code>Promise&lt;type&gt;</code></li> </ul>"},{"location":"development/api/ed/papillon/#edcore","title":"EDCore","text":"<p>La classe principale du module.</p> Propri\u00e9t\u00e9 Type Commentaire homeworks <code>GetHomeworks</code> Gestion des devoirs grades <code>GetGrades</code> Gestion des notes timetable <code>GetTimetable</code> Gestion de l'EDT schoolLife <code>GetSchoolLife</code> Gestion de la vie scolaire cantine <code>GetCantine</code> Gestion de la cantine digitalManuals <code>GetDigitalManuals</code> Gestion des manuels num\u00e9riques messaging <code>GetMessaging</code> Gestion des messages timeline <code>GetTimeline</code> Gestion des timeline documents <code>GetDocuments</code> Gestion des document administratifs forms <code>GetForms</code> Gestion des formulaires workspaces <code>GetWorkspaces</code> Gestion des espaces de travail communicationBook <code>GetCommunicationBook</code> Gestion du carnet de correspondance cloud <code>GetCloud</code> Gestion du cloud orders <code>GetOrders</code> Gestion des commandes esidoc <code>GetOrders</code> Gestion du module Esidoc downloads <code>GetDownloads</code> Gestion des t\u00e9l\u00e9chargements auth <code>Auth</code> Gestion de l'authentification request <code>Request</code> Gestion du requ\u00eatage _token <code>string</code> | <code>undefined</code> Token isLoggedIn <code>boolean</code> L'utilisateur est-il connect\u00e9 settings? <code>accountParameters</code> | <code>undefined</code> Param\u00e8tres de l'utilisateur student <code>account</code> | <code>BlankAccount</code> Profil de l'utilisateur school? <code>EstablishmentInfo</code> Informations de l'\u00e9tablissement modules? <code>Array&lt;</code><code>accountModule</code>)<code>&gt;</code> Modules activ\u00e9s <p>Ouvrir <code>src/session.ts</code></p>"},{"location":"development/api/ed/papillon/#gethomeworks","title":"GetHomeworks","text":"<p>La classe de gestion des devoirs.</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async () =&gt;</code><code>textbookResData</code> R\u00e9cup\u00e9rer les devoirs getByDay() <code>async (day: string, removeHTMLTags: boolean) =&gt;</code><code>textbookResDateData</code> R\u00e9cup\u00e9rer les devoirs du jour <code>day</code> (day est format\u00e9 <code>YYYY-MM-DD</code>). <code>removeHTMLTags</code> permet de renvoyer le contenu des devoirs sans balises HTML. <p>Ouvrir <code>src/fetch/getHomeworks.ts</code></p>"},{"location":"development/api/ed/papillon/#getgrades","title":"GetGrades","text":"<p>La classe de gestion des notes.</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async () =&gt;</code><code>gradesResData</code> R\u00e9cup\u00e9rer les notes <p>Ouvrir <code>src/fetch/getGrades.ts</code></p>"},{"location":"development/api/ed/papillon/#gettimetable","title":"GetTimetable","text":"<p>La classe de gestion de l'EDT. Les jours sont format\u00e9s <code>YYYY-MM-DD</code>.</p> Propri\u00e9t\u00e9 Type Commentaire fetchByDay() <code>async (day: string) =&gt;</code><code>timetableCourseList</code> R\u00e9cup\u00e9rer l'EDT du jour <code>day</code> fetchByDate() <code>async (starteDate: string, endDate: string) =&gt;</code><code>timetableCourseList</code> R\u00e9cup\u00e9rer l'EDT des jours <code>startDate</code> \u00e0 <code>endDate</code> <p>Ouvrir <code>src/fetch/getTimetable.ts</code></p>"},{"location":"development/api/ed/papillon/#getschoollife","title":"GetSchoolLife","text":"<p>La classe de gestion de la vie scolaire</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async () =&gt;</code><code>schoolLifeRes</code> R\u00e9cup\u00e9rer tous les \u00e9venements de vie scolaire <p>Ouvrir <code>src/fetch/getSchoolLife.ts</code></p>"},{"location":"development/api/ed/papillon/#getcantine","title":"GetCantine","text":"<p>La classe de gestion des modules de cantine.</p> Propri\u00e9t\u00e9 Type Commentaire getBarcode() <code>() =&gt; string</code> Renvoie la valeur du code-barre du badge getReservations() <code>() =&gt;</code> <code>modStudReservations.params</code> Renvoie les param\u00e8tres module de r\u00e9servation fetchSchoolMenu() <code>() =&gt; Array&lt;</code><code>Menu</code><code>&gt;</code> Renvoie la liste des menus <p>Ouvrir <code>src/fetch/getCantine.ts</code></p>"},{"location":"development/api/ed/papillon/#getdigitalmanuals","title":"GetDigitalManuals","text":"<p>La classe de gestion des manuels scolaires.</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async () =&gt;</code> <code>manualsRes</code> R\u00e9cup\u00e9rer les manuels scolaires <p>Ouvrir <code>src/fetch/getDigitalManuals.ts</code></p>"},{"location":"development/api/ed/papillon/#getmessaging","title":"GetMessaging","text":"<p>La classe de gestion de la messagerie.</p> Propri\u00e9t\u00e9 Type Commentaire fetchReceivedMessages() <code>async () =&gt;</code> <code>mailboxResData</code> R\u00e9cup\u00e9rer les messages re\u00e7us (<code>data.messages.received</code> sera rempli, les autres vides) fetchSentMessages() <code>async () =&gt;</code> <code>mailboxResData</code> R\u00e9cup\u00e9rer les messages envoy\u00e9s (<code>data.messages.sent</code> sera rempli, les autres vides) <p>Ouvrir <code>src/fetch/getMessaging.ts</code></p>"},{"location":"development/api/ed/papillon/#gettimeline","title":"GetTimeline","text":"<p>La classe de gestion des timeline.</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async () =&gt; Array&lt;</code><code>studTlElem</code><code>&gt;</code> R\u00e9cup\u00e9rer la timeline personnelle. fetchCommonTimeline() <code>async () =&gt;</code> <code>studCommonTlResData</code> R\u00e9cup\u00e9rer la timeline commune <p>Ouvrir <code>src/fetch/getTimeline.ts</code></p>"},{"location":"development/api/ed/papillon/#getdocuments","title":"GetDocuments","text":"<p>La classe de gestion des documents administratifs.</p> <p>[!CAUTION] Non test\u00e9, si vous pouvez tester, merci de nous contacter</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async (archive: string) =&gt;</code><code>studentDocsResData</code> R\u00e9cup\u00e9rer les documents administratifs. <code>archive</code> est une ann\u00e9e scolaire <code>YYYY-YYY</code> (eg. <code>2023-2024</code>). <p>Ouvrir <code>src/fetch/getDocuments.ts</code></p>"},{"location":"development/api/ed/papillon/#getforms","title":"GetForms","text":"<p>La classe de gestion des formulaires.</p> <p>[!CAUTION] Non test\u00e9, si vous pouvez tester, merci de nous contacter</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async (annee: string) =&gt; Array&lt;</code><code>form</code><code>&gt;</code> R\u00e9cup\u00e9rer les formulaires de l'ann\u00e9e. <code>annee</code> est une ann\u00e9e scolaire <code>YYYY-YYY</code> (eg. <code>2023-2024</code>). <p>Ouvrir <code>src/fetch/getForms.ts</code></p>"},{"location":"development/api/ed/papillon/#getworkspaces","title":"GetWorkspaces","text":"<p>La classe de gestion des espaces de travail.</p> <p>[!CAUTION] Non test\u00e9, si vous pouvez tester, merci de nous contacter</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async () =&gt; Array&lt;</code><code>workspace</code><code>&gt;</code> R\u00e9cup\u00e9rer les espaces de travail. get() <code>async (id: string) =&gt;</code><code>workspace</code> R\u00e9cup\u00e9rer l'espace de travail avec l'identifiant <code>id</code>. getDiary() <code>async (espaceId: string) =&gt;</code><code>diaryResData</code> R\u00e9cup\u00e9rer l'agenda (les \u00e9v\u00e8nements) de l'espace de travail avec l'identifiant <code>espaceId</code>. getTopics() <code>async (espaceId: string) =&gt;</code><code>topicsResData</code> R\u00e9cup\u00e9rer les discussions de l'espace de travail avec l'identifiant <code>espaceId</code>. getMembers() <code>async (espaceId: string) =&gt;</code><code>workspace</code> R\u00e9cup\u00e9rer les membres de l'espace de travail avec l'identifiant <code>espaceId</code>. join() <code>async (espace:</code><code>workspace</code><code>) =&gt;</code><code>membersResData</code> Rejoindre l'espace de travail <code>espace</code>. leave() <code>async (espace: number) =&gt;</code><code>emptyRes</code> Quitter l'espace de travail avec l'identifiant <code>id</code>. <p>Ouvrir <code>src/fetch/getWorkspaces.ts</code></p>"},{"location":"development/api/ed/papillon/#getcommunicationbook","title":"GetCommunicationBook","text":"<p>La classe de gestion du carnet de liaison.</p> <p>[!CAUTION] Non test\u00e9, si vous pouvez tester, merci de nous contacter</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async () =&gt; Array&lt;</code><code>communicationBookResData</code><code>&gt;</code> R\u00e9cup\u00e9rer les \u00e9v\u00e9nements du carnet de liaison. <p>Ouvrir <code>src/fetch/getCommunicationBook.ts</code></p>"},{"location":"development/api/ed/papillon/#getcloud","title":"GetCloud","text":"<p>La classe de gestion du cloud.</p> <p>[!CAUTION] Non test\u00e9, si vous pouvez tester, merci de nous contacter</p> Propri\u00e9t\u00e9 Type Commentaire fetch() <code>async () =&gt; Array&lt;</code><code>cloudResFolder</code><code>&gt;</code> R\u00e9cup\u00e9rer les fichiers du cloud. <p>Ouvrir <code>src/fetch/getCloud.ts</code></p>"},{"location":"development/api/ed/papillon/#getorders","title":"GetOrders","text":"<p>La classe de gestion des commandes.</p> <p>[!WARNING] Module instable.</p> <p>Point de passage signifie le lieux o\u00f9 la commande est pass\u00e9e (caf\u00e9t\u00e9ria par exemple). Il poss\u00e8de un <code>id</code>.</p> Propri\u00e9t\u00e9 Type Commentaire isEnabled() <code>() =&gt; boolean</code> Permet de savoir si le module est activ\u00e9. fetchOrders() <code>async () =&gt;</code><code>ordersResData</code><code>\\| undefined</code> R\u00e9cup\u00e9rer les points de passages et commandes pass\u00e9es. startOrder() <code>async (placeId: number, date: string) =&gt;</code><code>startOrderResData</code> R\u00e9cup\u00e9rer les informations du point de passage <code>placeId</code> \u00e0 la date <code>date</code>. order() <code>async (articles: Array&lt;</code><code>detailedArticle</code><code>&gt;, hour: string, date: string, placeId: number) =&gt;</code><code>orderPlacedResData</code> Passe une commande des article <code>articles</code>, pour <code>date</code>, <code>heure</code> au point de passage <code>placeId</code>. deleteOrder() <code>async (orderId: number) =&gt;</code><code>emptyRes</code> Annule la commande \u00e0 l'identifiant <code>orderId</code>. <p>Ouvrir <code>src/fetch/getOrders.ts</code></p>"},{"location":"development/api/ed/papillon/#getesidoc","title":"GetEsidoc","text":"<p>La classe de gestion du module Esidoc.</p> Propri\u00e9t\u00e9 Type Commentaire isEnabled() <code>() =&gt; boolean</code> Permet de savoir si le module est activ\u00e9. getParams() <code>async () =&gt;</code><code>modStudEsidoc.params.tabParams</code><code>\\| undefined</code> R\u00e9cup\u00e9rer les param\u00e8tres d'Esidoc. <p>Ouvrir <code>src/fetch/getEsidoc.ts</code></p>"},{"location":"development/api/ed/papillon/#getdownloads","title":"GetDownloads","text":"<p>La classe de gestion des t\u00e9l\u00e9chargements.</p>"},{"location":"development/api/ed/papillon/#filetype","title":"fileType","text":"<pre><code>type fileType = \"CLOUD\" | \"FICHIER_CDT\" | \"PIECE_JOINTE\" | \"FICHIER_MENU_RESTAURATION\" | \"ADMINISTRATIF\";\n</code></pre> Propri\u00e9t\u00e9 Type Commentaire getFileBlob() <code>async (fileId: number \\| string, fileType:</code><code>fileType</code><code>) =&gt; Blob</code> R\u00e9cup\u00e8re le blob du fichier <code>fileId</code> (voir T\u00e9l\u00e9charger des fichiers). getFileBase64() <code>async (fileId: number \\| string, fileType:</code><code>fileType</code><code>) =&gt; string</code> R\u00e9cup\u00e8re le fichier <code>fileId</code> (voir T\u00e9l\u00e9charger des fichiers) sous forme base64. <p>Ouvrir <code>src/fetch/getDownloads.ts</code></p>"},{"location":"development/api/ed/papillon/#auth","title":"Auth","text":"<p>La classe de gestion de l'authentification et de l'utilisateur.</p> <p>Voir s'authentifier avec ed-core</p> Propri\u00e9t\u00e9 Type Commentaire login() <code>async (username: string, password: string, uuid: string, fa?: object) =&gt; void</code> Se connecte \u00e0 Ecoledirecte avec des identifiants. <code>uuid</code> est un UUIDv4 utilis\u00e9 pour reconnaitre l'appareil et reg\u00e9n\u00e9rger un token. Lisez le guide pour savoir comment le g\u00e9n\u00e9rer. <code>fa</code> est l'objet contenant les facteurs d'authentification de <code>resolve2FA()</code> renewToken() <code>async (username: string, uuid: string, accessToken: string) =&gt; void</code> R\u00e9g\u00e9n\u00e8re un token \u00e0 l'aide du nom d'utilisateur, de l'<code>uuid</code> et de l'<code>accessToken</code> et remplace automatiquement le token actuel. setToken() <code>(token: string, id: number) =&gt; boolean</code> Se connecte \u00e0 Ecoledirecte avec un token. get2FAToken() <code>async (username: string, password: string) =&gt; string</code> Renvoie le jeton n\u00e9cessaire \u00e0 la r\u00e9cup\u00e9ration du QCM 2FA. get2FA() <code>async (token: string) =&gt;</code><code>doubleauthResData</code> R\u00e9cup\u00e8re le questionnaire 2FA avec le token de <code>get2FAToken()</code>. resolve2FA() <code>async (answer: string) =&gt;</code><code>doubleauthValidationResData</code> Renvoie les facteurs permettant l'uthentification. <p>Ouvrir <code>src/auth.ts</code></p>"},{"location":"development/api/ed/papillon/#request","title":"Request","text":"<p>La classe de gestion des requ\u00eates.</p> Propri\u00e9t\u00e9 Type Commentaire post() <code>async (url: string, body: string, params?: string, ignoreErrors: boolean = false) =&gt; object</code> Ex\u00e9cute la requ\u00eate \u00e0 l'API ecoledirect (path: <code>url</code>, body: <code>body</code>, les donn\u00e9es utiles transf\u00e9r\u00e9es \u00e0 Ecoledirecte , param\u00e8tres d'url <code>params</code> et pour obtenir tout les r\u00e9ponses, m\u00eame les erreurs Ecoledirecte, passer <code>ignoreErrors</code> \u00e0 <code>true</code>) avec comme param\u00e8tre verbe=get. Renvoie la r\u00e9ponse sous forme d'un object JSON get() <code>async (url: string, body: string, params?: string, ignoreErrors: boolean = false) =&gt; object</code> Ex\u00e9cute la requ\u00eate \u00e0 l'API ecoledirect (path: <code>url</code>, body: <code>body</code>, les donn\u00e9es utiles transf\u00e9r\u00e9es \u00e0 Ecoledirecte , param\u00e8tres d'url <code>params</code> et pour obtenir tout les r\u00e9ponses, m\u00eame les erreurs Ecoledirecte, passer <code>ignoreErrors</code> \u00e0 <code>true</code>) avec comme param\u00e8tre verbe=post. Renvoie la r\u00e9ponse sous forme d'un object JSON delete() <code>async (url: string, body: string, params?: string, ignoreErrors: boolean = false) =&gt; object</code> Ex\u00e9cute la requ\u00eate \u00e0 l'API ecoledirect (path: <code>url</code>, body: <code>body</code>, les donn\u00e9es utiles transf\u00e9r\u00e9es \u00e0 Ecoledirecte , param\u00e8tres d'url <code>params</code> et pour obtenir tout les r\u00e9ponses, m\u00eame les erreurs Ecoledirecte, passer <code>ignoreErrors</code> \u00e0 <code>true</code>) avec comme param\u00e8tre verbe=delete. Renvoie la r\u00e9ponse sous forme d'un object JSON put() <code>async (url: string, body: string, params?: string, ignoreErrors: boolean = false) =&gt; object</code> Ex\u00e9cute la requ\u00eate \u00e0 l'API ecoledirect (path: <code>url</code>, body: <code>body</code>, les donn\u00e9es utiles transf\u00e9r\u00e9es \u00e0 Ecoledirecte , param\u00e8tres d'url <code>params</code> et pour obtenir tout les r\u00e9ponses, m\u00eame les erreurs Ecoledirecte, passer <code>ignoreErrors</code> \u00e0 <code>true</code>) avec comme param\u00e8tre verbe=put. Renvoie la r\u00e9ponse sous forme d'un object JSON request() <code>async (url: string, body: string, ignoreErrors: boolean = false) =&gt; object</code> Ex\u00e9cute une requ\u00eate (url: <code>url</code>, body: <code>body</code> et pour obtenir tout les r\u00e9ponses, m\u00eame les erreurs Ecoledirecte, passer <code>ignoreErrors</code> \u00e0 <code>true</code>). Renvoie la r\u00e9ponse sous forme d'un object JSON blob() <code>async (url: string, body: string, completeUrl: boolean = false, method: \"GET\"  \\| \"POST\" = \"GET\") =&gt; Blob</code> Ex\u00e9cute la requ\u00eate et renvoie un objet Blob. <code>completeUrl</code> sur <code>true</code> indiquera que <code>url</code> est la cible compl\u00e8te, pas un chemin de <code>https://api.ecoledirecte.com</code> <p>Ouvrir <code>src/Request.ts</code></p>"},{"location":"development/api/ed/papillon/#guide-du-developpeur","title":"Guide du d\u00e9veloppeur","text":"<p>Ce guide vous permet de comprendre comment ce module est d\u00e9velopp\u00e9 et donc d'y contribuer !</p> <p>Ce projet est d\u00e9velopp\u00e9 en Typescript. Vous devez maitriser ce languages ainsi que le d\u00e9veloppement de modules NodeJs pour commencer.</p>"},{"location":"development/api/ed/papillon/#installation_1","title":"Installation","text":"<p>[!NOTE] Si vous souhaitez contribuer ou modifier le code, veuillez fork le d\u00e9pot et cloner votre copie de celui-ci.</p> <p>1. Cloner ce d\u00e9p\u00f4t <pre><code>git clone https://github.com/PapillonApp/Papillon-ED-Core\n</code></pre></p> <p>2. Installer les d\u00e9pendances <pre><code>npm install\n</code></pre></p> <p>3. R\u00e9cup\u00e9rer les submodules <pre><code>git submodule update --init --recursive\n</code></pre></p> <p>[!NOTE] Pour mettre \u00e0 jour le submodule, ex\u00e9cutez <pre><code>cd src/types &amp;&amp; git pull\n</code></pre></p> <p>Et voil\u00e0, vous \u00eates pr\u00eats !</p>"},{"location":"development/api/ed/papillon/#structure","title":"Structure","text":"<p>Le module est structur\u00e9 de la mani\u00e8re suivante : - <code>src/fetch</code> : Contient les fonctions de r\u00e9cup\u00e9ration des donn\u00e9es de l'API d'EcoleDirecte - <code>src/session.ts</code> : Contient les fonctions de gestion de la session - <code>src/auth.ts</code> : Contient les fonctions d'authentification - <code>src/errors.ts</code> : Contient les erreurs pouvant \u00eatre retourn\u00e9es par le module. Les erreurs doivent suivre la m\u00eame structure pour chaque module. - <code>src/types</code>: Submodule git des types des r\u00e9ponses ED. (r\u00e9adaptation de Armand CAMPONOVO, travail original ab2r) - <code>src/utils/types</code>: Contient les types des <code>data</code> requ\u00eates, et des types utiles \u00e0 ce module.</p>"},{"location":"development/api/ed/papillon/#scripts","title":"Scripts","text":"<p>Linter: eslint <pre><code>npm run lint\n</code></pre> Vous pouvez aussi ex\u00e9cuter <code>npm run lint:fix</code> pour r\u00e9gler les probl\u00e8mes de formatage automatiquement.</p> <p>Build: tsc</p> <p>Les fichiers transpil\u00e9s sont g\u00e9n\u00e9r\u00e9 \u00e0 leur emplacement. Ce script lint et build la base de code. <pre><code>npm run build\n</code></pre></p>"},{"location":"development/api/ts/api/","title":"Turboself API","text":"<p>Info</p> <p>Turboself est une marque d\u00e9pos\u00e9e de la soci\u00e9t\u00e9 TurboSelf . Papillon n'est pas affili\u00e9 \u00e0 Turboself.</p> <p>Turboself offre un service de gestion des r\u00e9servations de repas pour les cantines scolaires.</p> <p>Le service est accessible via une API REST.</p> <p>L'API a \u00e9t\u00e9 document\u00e9e gr\u00e2ce aux contributions de la communaut\u00e9 et est accessible via Swagger.</p> <p></p>"},{"location":"development/api/ts/papillon/","title":"papillon-turboself-core","text":""},{"location":"development/api/ts/papillon/#nodejs","title":"Node.js","text":"<p>Node Package Manager</p> <p>Pour utiliser l'API, vous pouvez utiliser le package npm <code>papillon-turboself-core</code> disponible sur npmjs.com .</p> <p>Le r\u00e9po du module est disponible sur Github .</p>"},{"location":"development/api/ts/papillon/#documentation","title":"Documentation","text":""},{"location":"development/api/ts/papillon/#sommaire","title":"Sommaire","text":"<ul> <li>Installation</li> <li>Gestion des erreurs</li> <li>Fonctions<ul> <li>login()</li> <li>getUserInfo()</li> <li>getHome()</li> <li>getBooking()</li> <li>setBooking()</li> <li>getHistory()</li> <li>getBalance()</li> <li>canBookEvening()</li> <li>getEtabInfo()</li> </ul> </li> </ul>"},{"location":"development/api/ts/papillon/#installation","title":"Installation","text":"<p>With NPM :</p> <p><pre><code>npm install papillon-turboself-core\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#gestion-des-erreurs","title":"Gestion des erreurs","text":"<p>Chaque r\u00e9ponse retourner de ce package retourne la m\u00eame forme de r\u00e9ponse. <pre><code>{\n  error: false, //BOOL : Y'a t'il une erreur\n  errorMessage: '', //STRING : Raison de l'erreur (vide si il y a pas d'erreur)\n  data: {\n    ...\n  }\n}\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#fonctions","title":"Fonctions","text":""},{"location":"development/api/ts/papillon/#login","title":"login()","text":"<p>Description: Permet de se connecter au service MyTurboself Param\u00e8tres: <pre><code>login(username, password)\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    let result = await ts.login('username@mail.com', 'Password1234')\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n  error: false,\n  errorMessage: '',\n  data: {\n    token: 'XXXXXXXXXXXX...',\n    userId: XXXXXXX,\n    etabId: XXXXXX\n  }\n}\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#getuserinfo","title":"getUserInfo()","text":"<p>Description: Obtient les informations de l'utilisateur connect\u00e9 Param\u00e8tres: <pre><code>getUserInfo()\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    await ts.login('username@mail.com', 'Password1234')\n    let result = ts.getUserInfo()\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n  error: false,\n  errorMessage: '',\n  data: {\n    id: XXXXXX,\n    origId: XXXXX,\n    type: 0,\n    lastName: 'Doe',\n    firstName: 'Jonh',\n    class: 'CE1',\n    method: 'Argent',\n    quality: 'TICKET',\n    authorization: {\n        pay: true,\n        book: true,\n        cafeteria: false\n    },\n    lastSync: '20XX-XX-XXTXX:XX:XX.XXXZ',\n    disabled: false,\n    isPasswordSecure: true,\n    cardData: null\n  }\n}\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#gethome","title":"getHome()","text":"<p>Description: Obtient l'\u00e9cran d'acceuil de l'utilisateur connect\u00e9 Param\u00e8tres: <pre><code>getHome()\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    await ts.login('username@mail.com', 'Password1234')\n    let result = ts.getHome()\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n  error: false,\n  errorMessage: '',\n  data: {\n    userInfo: {\n      id: 'XXXXXXXXXX',\n      balance: -10.5,\n      estimatedBalance: -150.10,\n      estimatedFor: '20XX-XX-XX'\n    },\n    history: [\n      {\n        id: XXXXXXXXX,\n        name: 'Self',\n        date: '20XX-XX-XXTXX:XX:XX.000Z',\n        cost: -40.8\n      },\n      ...\n    ]\n  }\n}\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#getbooking","title":"getBooking()","text":"<p>Description: Obtient les r\u00e9servations d'une semaine de l'utilisateur connect\u00e9 Param\u00e8tres: <pre><code>getBooking(date = new Date())\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    await ts.login('username@mail.com', 'Password1234')\n    let result = ts.getBooking()\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n  error: false,\n  errorMessage: '',\n  data: {\n    weekId: 'XXXXXXXXXXX',\n    days: [\n      {\n        id: 'XXXXXXXXXXX',\n        dayNumber: 1, //(1: Lundi, 5: Vendredi)\n        booked: true,\n        lastSyncBooked: 1,\n        canEdit: false,\n        label: 'Lundi 11 D\u00e9c.',\n        date: '11-12-2023'\n      },\n      ...\n    ]\n  }\n}\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#setbooking","title":"setBooking()","text":"<p>Description: D\u00e9fini une r\u00e9servation de l'utilisateur connect\u00e9 Param\u00e8tres: <pre><code>setBooking(weekId : Int, dayNumber : Int, booked : Bool)\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    await ts.login('username@mail.com', 'Password1234')\n    let result = ts.setBooking(XXXXXXXXXXX, 3 (Mercredi), false)\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n  error: false,\n  errorMessage: '',\n  data: {\n    id: 'XXXXXXXXXXX',\n    dayNumber: 3,\n    booked: false\n  }\n}\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#gethistory","title":"getHistory()","text":"<p>Description: Obtient l'historique complet de l'utilisateur connect\u00e9 Param\u00e8tres: <pre><code>getHistory()\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    await ts.login('username@mail.com', 'Password1234')\n    let result = ts.getHistory()\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n  error: false,\n  errorMessage: '',\n  data: [\n    {\n      id: XXXXXXXXX,\n      name: 'Self',\n      cost: -40.70,\n      date: '20XX-XX-XXTXX:XX:XX.XXXZ'\n    },\n    ...\n  }\n]\n}\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#getbalance","title":"getBalance()","text":"<p>Description: Obtient le solde de l'utilisateur connect\u00e9 Param\u00e8tres: <pre><code>getBalance()\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    await ts.login('username@mail.com', 'Password1234')\n    let result = ts.getBalance()\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n  error: false,\n  errorMessage: '',\n  data: {\n    id: 'XXXXXXXXXX',\n    balance: 10.0,\n    estimatedBalance: -45.13,\n    estimatedFor: '20XX-XX-XX'\n  }\n}\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#canbookevening","title":"canBookEvening()","text":"<p>Description: Retourne si l'utilisateur connect\u00e9 peut r\u00e9server le soir Param\u00e8tres: <pre><code>canBookEvening()\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    await ts.login('username@mail.com', 'Password1234')\n    let result = ts.canBookEvening()\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n  error: false,\n  errorMessage: '',\n  data: false\n}\n</code></pre> </p>"},{"location":"development/api/ts/papillon/#getetabinfo","title":"getEtabInfo()","text":"<p>Description: Obtient les informations de l'\u00e9tablissement de l'utilisateur connect\u00e9 Param\u00e8tres: <pre><code>getEtabInfo()\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    await ts.login('username@mail.com', 'Password1234')\n    let result = ts. getEtabInfo()\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n  error: false,\n  errorMessage: '',\n  data: {\n    id: XXXX,\n    TSid: 1,\n    code2p5: XXXX,\n    name: 'Lyc\u00e9e/Coll\u00e8ge XXX',\n    version: 'XXX',\n    disabled: false,\n    symbol: '\u20ac',\n    minCreditAdd: 15.5,\n    prixDej: 2.87,\n    address: {\n      line1: '1 Rue Doe Jonh',\n      line2: '',\n      postalCode: '10000',\n      city: 'Ville connu'\n    },\n    contact: {\n      url: 'http://mon.lycee-ou-college.com/',\n      email: 'mail@college-lycee.com',\n      tel: '0606060606'\n    },\n    sync: {\n      first: '20XX-XX-XXTXX:XX:XX.XXXZ',\n      last: '20XX-XX-XXTXX:XX:XX.XXXZ'\n    }\n  }\n}\n</code></pre></p> <p></p>"},{"location":"development/api/ts/papillon/#getlastpayment","title":"getLastPayment()","text":"<p>Description: Obtient le dernier paiments de l'utilisateur connect\u00e9 Param\u00e8tres: <pre><code>getLastPayment()\n</code></pre> Exemple: <pre><code>const TurboSelf = require('papillon-turboself-core')\nlet ts = new TurboSelf();\n\nasync function main() {\n    await ts.login('username@mail.com', 'Password1234')\n    let result = ts.getLastPayment()\n    console.log(result)\n}\n\nmain()\n</code></pre> Retour: <pre><code>{\n    error: false,\n    errorMessage:'',\n    data: {\n        id: 0000000,\n        etabId: 0000000,\n        date: '20XX-XX-XXTXX:XX:XX.XXXZ',\n        amount: 20,\n        method: 'CB',\n        updateDate: '20XX-XX-XXTXX:XX:XX.XXXZ',\n        status: 'OK',\n        transactionId: 'XXXXXXXXXXXXXX',\n        token: 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX',\n        message: 'Paiement accept\u00e9'\n    }\n}\n</code></pre></p>"},{"location":"development/app/android/","title":"D\u00e9velopper Papillon sous Android","text":""},{"location":"development/app/android/#pre-requis","title":"Pr\u00e9-requis","text":"<ul> <li> Un ordinateur sous :<ul> <li>Windows 8 ou ult\u00e9rieur</li> <li>macOS 10.14 Mojave ou ult\u00e9rieur</li> <li>Linux 64 bit qui prend en charge GNU C Library (glibc) en version 2.31</li> </ul> </li> <li> Des bases en JavaScript</li> <li> Des connaissances du terminal de Windows</li> </ul>"},{"location":"development/app/android/#installation-des-dependances","title":"Installation des d\u00e9pendances","text":""},{"location":"development/app/android/#nodejs","title":"Node.js","text":"<p>Node.js est n\u00e9cessaire pour installer le reste des outils n\u00e9cessaires.</p> <p>Vous pouvez le t\u00e9l\u00e9charger sur le site suivant : https://nodejs.org</p>"},{"location":"development/app/android/#android-studio","title":"Android Studio","text":"<p>Android Studio est n\u00e9cessaire pour d\u00e9velopper sous Android.</p> <p>Vous pouvez le t\u00e9l\u00e9charger sur le site suivant : https://developer.android.com/studio</p> <p>macOS</p> <p>Si vous \u00eates sous macOS, vous pouvez aussi installer Android Studio via Homebrew</p> <pre><code>brew install --cask android-studio\n</code></pre>"},{"location":"development/app/android/#environnement","title":"Environnement","text":"<p>Commencez par cloner le  repo de Papillon et mettre en place votre environnement de d\u00e9veloppement.</p> <p>Une fois le repo clon\u00e9, installez simplement les packages npm li\u00e9s :</p> <pre><code>npm i\n</code></pre> <p>Il sera aussi n\u00e9cessaire d'avoir Expo CLI :</p> <pre><code>npm install -g expo-cli\n</code></pre>"},{"location":"development/app/android/#developpement","title":"D\u00e9veloppement","text":"<p>Pour lancer l'application en mode d\u00e9veloppement, vous devez installer l'application de d\u00e9veloppement (un mini Expo Go qui permet de charger l'application depuis votre PC avec un live reload)</p> <p>Pour commencer :</p> <p>1- Modifiez le fichier <code>app.json</code> afin de modifier le nom de l'application ainsi que son package, pour \u00e9viter de remplacer la vraie appli.</p> <ul> <li> <p>Ligne 3, variable <code>name</code>: remplacer par le nom de votre choix (exemple \"Papillon Dev\").</p> </li> <li> <p>Ligne 71, variable <code>package</code>: remplacer par exemple par <code>xyz.getpapillon.app.dev</code>. Ne pas changer cette variable entra\u00eenera une erreur \u00e0 l'installation et un remplacement de l'appli officielle.</p> </li> </ul> <p>2- Ex\u00e9cutez la commande suivante dans votre terminal : <pre><code>npx expo prebuild\n</code></pre></p> <p>3- Ouvrir Android Studio et ouvrir le dossier Android. </p> <p>Notes</p> <p>Si c'est la premi\u00e8re fois que vous lancez Android Studio, de nombreux fichiers se t\u00e9l\u00e9chargeront automatiquement et cela prendra plus ou moins de temps en fonction de votre connexion internet.</p> <p>4- Attendre que Android Studio ai termin\u00e9 ses processus (visible en bas \u00e0 droite). </p> <p>5- Si le Gradle Sync ne s'est pas automatiquement ex\u00e9cut\u00e9, le faire manuellement via Files &gt; Sync project with graddle Files ou en pressant les touches <code>Ctrl + Maj + O</code>.</p> <p>6- Configurer son t\u00e9l\u00e9phone pour le d\u00e9veloppement :  Comment configurer son t\u00e9l\u00e9phone pour le d\u00e9veloppement</p> <p>Une fois que ceci est fait, vous pouvez soit :</p> <ul> <li>Connecter votre t\u00e9l\u00e9phone \u00e0 votre PC via USB : Comment connecter son t\u00e9l\u00e9phone via USB</li> <li>Connecter votre t\u00e9l\u00e9phone via wifi : Comment connecter son t\u00e9l\u00e9phone via wifi</li> <li>Cr\u00e9er un \u00e9mulateur : Comment cr\u00e9er un \u00e9mulateur android</li> </ul> <p>7- Appuyer sur l'\u00eecone \"Run\" en haut \u00e0 droite \u00e0 c\u00f4t\u00e9 du nom de votre appareil pour d\u00e9marrer le build et l'installer automatiquement sur votre appareil.</p> <p>Notes</p> <p>Vous pouvez consulter le statut du build en vous rendant dans l'onglet \"Build\" en bas du logiciel, ou dans View &gt; Tool Window &gt; Build.</p> <p>8- Sur le PC, ex\u00e9cutez la commande suivante dans votre terminal : <pre><code>npm start\n</code></pre></p> <p>Si \u00e7a ne marche pas, il est possible d'ex\u00e9cuter la commande suivante :  <pre><code>npx expo start --dev-client\n</code></pre></p> <p>9- Lancer l'application de developpement sur le t\u00e9l\u00e9phone/\u00e9mulateur. Le serveur doit automatiquement s'afficher en haut, cliquez dessus pour commencer le chargement. </p> <p>Si ce n'est pas le cas, v\u00e9rifiez que :</p> <ul> <li>Le wifi du PC est en mode priv\u00e9 (visible via les param\u00e8tres r\u00e9seaux).</li> <li>Le t\u00e9l\u00e9phone et le PC sont connect\u00e9s au m\u00eame r\u00e9seau. Si malgr\u00e9 tout le serveur ne s'affiche pas, un QR Code est g\u00e9n\u00e9r\u00e9 dans le terminal. Utilisez votre appareil photo pour le scanner.</li> </ul>"},{"location":"development/app/eas/","title":"D\u00e9velopper Papillon avec","text":"<p>Ce tutoriel n'est pas complet. Il est en cours de r\u00e9daction. Si vous avez des questions, n'h\u00e9sitez pas \u00e0 demander sur le Discord.</p> <p>Il ne s'adresse pour l'instant qu'aux d\u00e9veloppeurs Android, mais un tutoriel pour iOS est en cours de r\u00e9daction.</p>"},{"location":"development/app/eas/#pre-requis","title":"Pr\u00e9-requis","text":"<ul> <li> Un ordinateur sous :<ul> <li>Windows 8 ou ult\u00e9rieur</li> <li>macOS 10.14 Mojave ou ult\u00e9rieur</li> <li>Linux 64 bit qui prend en charge GNU C Library (glibc) en version 2.31</li> </ul> </li> <li> Des bases en JavaScript</li> <li> Des connaissances du terminal de Windows</li> <li> Un compte Expo-EAS</li> </ul> <p>Eas, c'est quoi ?</p> <p>EAS ou Expo Application Services est un service cloud qui permet de construire, d\u00e9ployer et g\u00e9rer des applications Expo ou React Native. Cr\u00e9\u00e9 par la team derri\u00e8re le framework Expo, EAS permet dans cette usage, de build une application Papillon gratuitement (m\u00eame si il existe un plan payant pour des fonctionnalit\u00e9s avanc\u00e9es). Il est \u00e0 utiliser notamment si vous avez peu de m\u00e9moire, de performance ou de stockage mais cela offre moins de flexibilit\u00e9 et de contr\u00f4le sur le build.</p>"},{"location":"development/app/eas/#installation-des-dependances","title":"Installation des d\u00e9pendances","text":""},{"location":"development/app/eas/#nodejs","title":"Node.js","text":"<p>Node.js est n\u00e9cessaire pour installer le reste des outils n\u00e9cessaires.</p> <p>Vous pouvez le t\u00e9l\u00e9charger sur le site suivant : https://nodejs.org</p>"},{"location":"development/app/eas/#environnement","title":"Environnement","text":"<p>Commencez par cloner le repo de Papillon et mettre en place votre environnement de d\u00e9veloppement.</p> <p>Une fois le repo clon\u00e9, installez simplement les packages npm li\u00e9s :</p> <pre><code>npm i\n</code></pre> <p>Il sera aussi n\u00e9cessaire d'avoir Expo CLI ainsi que EAS CLI :</p> <pre><code>npm install -g expo-cli eas-cli\n</code></pre>"},{"location":"development/app/eas/#developpement","title":"D\u00e9veloppement","text":"<p>Pour lancer l'application en mode d\u00e9veloppement, vous devez installer l'application de d\u00e9veloppement (un mini Expo Go qui permet de charger l'application depuis votre PC avec un live reload)</p> <p>Pour commencer :</p> <p>1- Se connecter \u00e0 son compte EAS et \u00e0 son projet</p> <p>Si vous ne possedez pas de compte EAS, vous pouvez en cr\u00e9er un en suivant ce lien : Cr\u00e9er un compte EAS. Ensuite reste \u00e0 cr\u00e9er un projet EAS en vous rendant dans \"Projects\" puis \"New project\". Le nom est libre, mais le <code>slug</code> doit \u00eatre <code>papillonvex</code>.</p> <p>Dans votre terminale, vous pouvez ensuite vous connecter via la commande : <pre><code>eas login\n</code></pre></p> <p>2- Modifiez le fichier <code>app.json</code> afin de changer le nom de l'application ainsi que son package, pour \u00e9viter de remplacer la vraie appli, et enfin le relier \u00e0 son projet EAS</p> <ul> <li> <p>Ligne 3, variable <code>name</code>: remplacer par le nom de votre choix (exemple \"Papillon Dev\").</p> </li> <li> <p>Ligne 71, variable <code>package</code>: remplacer par exemple par <code>xyz.getpapillon.app.dev</code>. Ne pas changer cette variable entra\u00eenera une erreur \u00e0 l'installation et un remplacement de l'appli officielle.</p> </li> </ul> <p>Rendez-vous sur la page de votre projet EAS, vous y trouverez deux informations utiles, l'ID et l'Owner \u00e0 recopier dans le fichier <code>app.json</code>:</p> <ul> <li> <p>Ligne 83, variable <code>projectId</code> (dans <code>extra</code> puis <code>eas</code>): remplacer par l'identifiant de votre projet EAS. (champ \"ID\" sur la page EAS)</p> </li> <li> <p>Ligne 220, variable <code>owner</code>: remplacer par votre nom de compte EAS. (champ \"Owner\" sur la page EAS)</p> </li> </ul> <p>Ne pas ajouter dans un commit git ce fichier si vous l'avez modifi\u00e9 de la sorte !</p> <p>3- Ex\u00e9cutez la commande suivante dans votre terminal :</p> <pre><code>npx expo prebuild\n</code></pre> <p>4- Cr\u00e9er un build</p> <p>Pour android :</p> <pre><code>eas build --profile development --platform android\n</code></pre> <p>Et pour iOS :</p> <pre><code>eas build --profile development --platform ios\n</code></pre> <p>Cette commande sert \u00e0 cr\u00e9er un build de d\u00e9veloppement, permettant d'offrir les fonctionnalit\u00e9s d'Expo Go. Cependant, il est possible de cr\u00e9er un build de \"production\" en rempla\u00e7ant <code>development</code> par <code>production</code>.</p> <p>5- Configurer son t\u00e9l\u00e9phone pour le d\u00e9veloppement avec une application Expo-EAS :</p> <p>Une fois le build termin\u00e9, vous pouvez le t\u00e9l\u00e9charger en se rendant sur le lien du deploiement que vous avez re\u00e7u dans votre terminal.</p> <p>Nous vous conseillons de vous envoyer de lien \u00e0 votre t\u00e9l\u00e9phone, et d'y t\u00e9l\u00e9charger le fichier APK pour Android, ou le fichier IPA pour iOS et de l'installer. Pour installer un APK, il vous sera demand\u00e9 d'activer une option dans les param\u00e8tres de votre t\u00e9l\u00e9phone, \"Installer des applications inconnues\".</p> <p>6- Sur le PC, ex\u00e9cutez la commande suivante dans votre terminal :</p> <pre><code>npm start\n</code></pre> <p>Si \u00e7a ne marche pas, il est possible d'ex\u00e9cuter la commande suivante :</p> <pre><code>npx expo start --dev-client\n</code></pre> <p>7- Lancer l'application de developpement sur le t\u00e9l\u00e9phone/\u00e9mulateur. Le serveur doit automatiquement s'afficher en haut, cliquez dessus pour commencer le chargement. </p> <p>Si ce n'est pas le cas, v\u00e9rifiez que :</p> <ul> <li>Le wifi du PC est en mode priv\u00e9 (visible via les param\u00e8tres r\u00e9seaux).</li> <li>Le t\u00e9l\u00e9phone et le PC sont connect\u00e9s au m\u00eame r\u00e9seau. Si malgr\u00e9 tout le serveur ne s'affiche pas, un QR Code est g\u00e9n\u00e9r\u00e9 dans le terminal. Utilisez votre appareil photo pour le scanner.</li> </ul>"},{"location":"development/app/ios/","title":"D\u00e9velopper Papillon sous iOS","text":""},{"location":"development/app/ios/#pre-requis","title":"Pr\u00e9-requis","text":"<ul> <li> Un ordinateur sous macOS 14 ou ult\u00e9rieur</li> <li> Des bases en JavaScript </li> <li> Une connaissance du terminal de macOS</li> </ul>"},{"location":"development/app/ios/#installation-des-dependances","title":"Installation des d\u00e9pendances","text":""},{"location":"development/app/ios/#homebrew","title":"Homebrew","text":"<p>Homebrew est n\u00e9cessaire pour installer le reste des outils n\u00e9cessaires.</p> <p>Vous pouvez l'installer simplement en indiquant cette commande dans un terminal macOS :</p> <pre><code>/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n</code></pre>"},{"location":"development/app/ios/#node-watchman","title":"Node &amp; Watchman","text":"<p>Si ce n'est pas d\u00e9j\u00e0 fait, installez Node.js et Watchmen</p> <pre><code>brew install node\nbrew install watchman\n</code></pre>"},{"location":"development/app/ios/#xcode","title":"Xcode","text":"<p>Xcode est n\u00e9cessaire pour d\u00e9velopper sous iOS. Installez le depuis le Mac App Store</p>"},{"location":"development/app/ios/#outils-de-ligne-de-commande","title":"Outils de ligne de commande","text":"<p>Vous devez aussi installer les \"Command Line Tools\". Ouvrez Xcode, puis dans Pr\u00e9f\u00e9rences &gt; Locations, S\u00e9lectionnez la version la plus r\u00e9cente de Xcode dans l'onglet \"Command Line Tools\" </p>"},{"location":"development/app/ios/#cocoapods","title":"CocoaPods","text":"<p>Pour terminer, il est n\u00e9cessaire d'avoir CocoaPods d'install\u00e9 pour les d\u00e9pendances de l'app.</p> <pre><code>sudo gem install cocoapods\n</code></pre>"},{"location":"development/app/ios/#environnement","title":"Environnement","text":"<p>Commencez par cloner le  repo de Papillon et mettre en place votre environnement de d\u00e9veloppement.</p> <p>Une fois le repo clon\u00e9, installez simplement les packages npm li\u00e9s :</p> <pre><code>npm i\n</code></pre> <p>Il sera aussi n\u00e9cessaire d'avoir Expo CLI :</p> <pre><code>npm install -g expo-cli\n</code></pre> <p>Vous devrez aussi installer les d\u00e9pendances de Cocoapods dans le dossier <code>/ios</code>:</p> <pre><code>pod install\n</code></pre>"},{"location":"development/app/ios/#les-devbuilds","title":"Les devbuilds","text":"<p>Pour modifier Papillon et voir vos modifications, un \"devbuild\" est n\u00e9cessaire.</p> <p>C'est une version sp\u00e9ciale de l'app qui se connecte \u00e0 votre environnement de d\u00e9veloppement pour afficher vos changements en temps r\u00e9el sans avoir \u00e0 recompiler Papillon.</p> <p>Pour commencer, modifiez le fichier <code>app.json</code> afin de modifier le nom de l'application ainsi que son package, pour \u00e9viter de remplacer la vraie appli.</p> <ul> <li> <p>Ligne 3, variable <code>name</code>: remplacer par le nom de votre choix (exemple \"Papillon Dev\").</p> </li> <li> <p>Ligne 71, variable <code>package</code>: remplacer par exemple par <code>xyz.getpapillon.app.dev</code>. Ne pas changer cette variable entra\u00eenera une erreur \u00e0 l'installation et un remplacement de l'appli officielle.</p> </li> </ul> <p>Pour installer une devbuild, rien de plus simple :</p> <p>Commencez par pr\u00e9builder Papillon. On expliquera en quoi cela consiste plus tard. Cette \u00e9tape est n\u00e9cessaire avant chaque compilation de l'app</p> <pre><code>npx expo prebuild\n</code></pre> <p>Une fois cela termin\u00e9, ouvrez Papillon dans Xcode en ouvrant le fichier <code>/iOS/Papillon.xcworkspace</code>.</p> <p>Vous n'avez plus qu'\u00e0 d\u00e9marrer l'app avec votre iPhone branch\u00e9 ou sur un simulateur iOS en s\u00e9lectionnant un appareil et en appuyant sur l'ic\u00f4ne \"Play\" en haut de Xcode.</p>"},{"location":"development/app/ios/#demarrer-une-session-de-developpement","title":"D\u00e9marrer une session de d\u00e9veloppement","text":"<p>Une fois la pr\u00e9build install\u00e9e, d\u00e9marrez le serveur de d\u00e9veloppement via la commande suivante :</p> <pre><code>npx expo start\n</code></pre> <p>(Vous n'\u00eates pas oblig\u00e9 de d\u00e9velopper sur la m\u00eame machine que celle qui a compil\u00e9 la pr\u00e9build) Une fois la commande d\u00e9marr\u00e9e, ouvrez l'app de prebuild sur votre iPhone et indiquez l'adresse du serveur ou alors, scannez le QR-Code affich\u00e9 dans la console depuis l'app Appareil photo</p> <p>(Vous devez avoir votre iPhone et votre ordinateur sur le m\u00eame r\u00e9seau local)</p>"},{"location":"development/app/ios/#les-prebuilds","title":"Les pr\u00e9builds","text":"<p>La fonction <code>prebuild</code> permet de pr\u00e9parer l'app a \u00eatre compil\u00e9e en code natif pour iOS, cela indique : - Empaqueter les ic\u00f4nes, images, polices, et autres fichiers de l'app - Installer automatiquement les pods et modules de Papillon - Mettre a jour certaines parties natives de l'app.</p> <p>Tout cela se fait simplement et automatiquement avec une commande : </p> <pre><code>npx expo prebuild\n</code></pre> <p>Une fois effectu\u00e9e, vous pouvez archiver ou d\u00e9marrer l'app comme d'habitude.</p>"},{"location":"development/app/ios/#compiler-une-version-release","title":"Compiler une version \"release\"","text":"<p>Normalement, cela n'est pas n\u00e9cessaire, mais vous pouvez cr\u00e9er une version release (donc ind\u00e9pendante) telle que vous l'obtiendrez sur l'App Store en utilisant l'option Archive sur Xcode.</p>"},{"location":"development/pronote-api/","title":"Introduction","text":"<p>Papillon utilise actuellement un serveur interm\u00e9diaire, dont l'API facilite l'acc\u00e8s indirect \u00e0 l'API priv\u00e9e d'un serveur PRONOTE.net.</p> <p>Cette section documente cette premi\u00e8re API. Pour consulter la documentation de l'API priv\u00e9e PRONOTE.net, veuillez vous r\u00e9f\u00e9rer \u00e0 PRONOTE protocol du projet pronotepy.</p>"},{"location":"development/pronote-api/deployment/","title":"D\u00e9ploiement","text":""},{"location":"development/pronote-api/deployment/#pre-requis","title":"Pr\u00e9-requis","text":"<p>Vous devez installer Python 3.10 minimum et PiP. Ensuite installer les d\u00e9pendances avec les commandes suivantes :</p> <pre><code>pip3 install hug -U\npip3 install pronotepy -U\npip3 install lxml\n</code></pre>"},{"location":"development/pronote-api/deployment/#installation","title":"Installation","text":""},{"location":"development/pronote-api/deployment/#bare-metal","title":"Bare-metal","text":"<p>Une fois les pr\u00e9-requis en place vous pouvez ex\u00e9cuter le serveur avec la commande suivante : Veuillez noter que le serveur est pr\u00e9vu pour fonctionner sur notre infrastructure, il est donc possible que vous deviez modifier le code pour qu'il fonctionne sur votre propre serveur. De plus, il est n\u00e9cessaire de modifier le fichier <code>server.py</code> et de supprimer les fonctions <code>get_client_on_instances()</code> et <code>token_get_client()</code> ainsi que les appels \u00e0 ces fonctions (si pr\u00e9sent dans la branche t\u00e9l\u00e9charg\u00e9e). <pre><code>git clone -b main https://github.com/PapillonApp/papillon-python\ncd papillon-python\npython -m hug -f server.py\n</code></pre> Cela va lancer le serveur sur le port 8000.</p>"},{"location":"development/pronote-api/deployment/#docker","title":"Docker","text":"<p>Une fois docker install\u00e9 sur votre machine, vous pouvez pull l'image docker :  <pre><code>docker pull justtryon/papillonserver:latest\n</code></pre> Une fois cela fait, vous pouvez d\u00e9ployer l'api avec cette commande :  <pre><code>docker run -d -p 8000:8000 -e CRON=\"*/15 * * * *\" justtryon/papillonserver:latest\n</code></pre> Vous pouvez changer le temps de red\u00e9marrage automatique du serveur en changeant la variable d'environnement CRON</p> <p>Cela va lancer le serveur sur le port 8000.</p>"},{"location":"development/pronote-api/deployment/#docker-swarm","title":"Docker Swarm","text":"<p>Le d\u00e9ploiement de l'api avec docker swarm va vous permettre une redondance de l'api, si un de vos serveurs n'est plus disponible, la node manager de votre cluster swarm va automatiquement prendre le relai pour que l'api soit toujours disponible, et ce sans interruption de service pour les utilisateurs. Les commandes suivantes sont \u00e0 ex\u00e9cuter sur la node manager. <pre><code>docker pull justtryon/papillonserver:latest\n</code></pre> Une fois cela fait, vous pouvez d\u00e9ployer l'api sur les diff\u00e9rentes nodes en adaptant cette commande : </p> <p><pre><code>docker service create \\\n  --replicas 2 \\\n  --constraint 'node.role==worker' \\\n  -p 8000:8000 \\\n  -e CRON=\"*/15 * * * *\" \\\n  justtryon/papillonserver:latest\n</code></pre> Le param\u00e8tre \"replicas\" va d\u00e9finir le nombre de nodes sur lesquelles l'api va \u00eatre d\u00e9ploy\u00e9e, vous pouvez le modifier en fonction de la taille de votre cluster. Vous pouvez \u00e9galement changer le temps de red\u00e9marrage automatique du serveur en changeant la variable d'environnement CRON</p> <p>Cela va lancer le serveur sur le port 8000, en tant que service docker.</p>"},{"location":"development/pronote-api/endpoints/","title":"Endpoints","text":""},{"location":"development/pronote-api/endpoints/#requetes","title":"Requ\u00eates","text":"<p>Ensuite, chaque appel \u00e0 une fonction de l'API doit avoir le param\u00e8tre <code>token</code> d\u00e9fini.  Voici la liste des URLs pour obtenir des donn\u00e9es :</p> URL Utilit\u00e9 Param\u00e8tres <code>/user</code> Obtient les informations sur l'utilisateur (nom, classe...) + les p\u00e9riodes de l'ann\u00e9e <code>/timetable</code> Affiche l'emploi du temps sur une date donn\u00e9e <code>dateString: str</code> : date au format <code>ann\u00e9e-mois-jour</code> <code>/homework</code> Affiche les devoirs entre deux dates donn\u00e9es <code>dateFrom: str</code> : date de d\u00e9but au format <code>ann\u00e9e-mois-jour</code>, et <code>dateTo: str</code> : date de fin au m\u00eame format <code>/grades</code> Affiche les notes <code>/evaluations</code> Affiche les \u00e9valuations par comp\u00e9tences <code>/absences</code> Affiche les absences <code>/punishments</code> Affiche les punitions <code>/news</code> Affiche les actualit\u00e9s <code>/discussions</code> Affiche les messages <code>/menu</code> Affiche les menus entre deux dates donn\u00e9es <code>dateFrom: str</code> : date de d\u00e9but au format <code>ann\u00e9e-mois-jour</code>, et <code>dateTo: str</code> : date de fin au m\u00eame format <code>/recipients</code> Liste toutes les personnes que l'utilisateur peut contacter par message <p>Voici la liste des URLs qui effectuent une simple fonction :</p> URL Utilit\u00e9 Param\u00e8tres R\u00e9ponse <code>/info</code> Envoie des informations sur l'API comme les ENTs et la version <code>/export/ical</code> Exporte le calendrier en iCal (l'URL du fichier iCal) <code>/homework/changeState</code> Change l'\u00e9tat d'un devoir (fait/non fait) <code>dateFrom: str</code> : date de d\u00e9but au format <code>ann\u00e9e-mois-jour</code>, et <code>dateTo: str</code> date de fin au m\u00eame format, et <code>homeworkId: str</code> l'id du devoir \u00e0 changer (\u00e9tat du devoir chang\u00e9) <code>/discussion/delete</code> Supprime la discussion <code>discussionId: str</code> : Id de la discussion <code>ok</code> si aucun probl\u00e8me <code>/discussion/readState</code> Change l'\u00e9tat de lecture d'une discussion <code>discussionId: str</code> : Id de la discussion <code>ok</code> si aucun probl\u00e8me <code>/discussion/reply</code> R\u00e9pond \u00e0 une discussion <code>discussionId: str</code> : Id de la discussion, et <code>content: str</code> : Contenu du message <code>ok</code> si aucun probl\u00e8me <code>/discussion/create</code> Cr\u00e9e une discussion <code>recipientId: str</code> : Id du destinataire, <code>content: str</code> : Contenu du message et <code>recipients: list</code> : La liste de destinataire avec leurs ID (obtenus avec <code>/recipients</code>) <code>ok</code> si aucun probl\u00e8me"},{"location":"development/pronote-api/login/","title":"Login","text":"<p>Un client doit effectuer la requ\u00eate initiale <code>POST /generatetoken</code> avec le corps de la requ\u00eate suivant :</p> Param\u00e8tre Utilit\u00e9 Exemple <code>url: str(url)</code> URL vers l'instance PRONOTE (avec le eleve.html) <code>https://0152054e.index-education.net/pronote/eleve.html</code> <code>username: str</code> Nom d'utilisateur PRONOTE <code>l.martin</code> <code>password: str</code> Mot de passe en clair <code>azertyuiop12345</code> <code>ent: str(ent)</code> Nom de l'ENT tel que list\u00e9 ici <code>ac_rennes</code> <p>Le client doit ensuite conserver le token g\u00e9n\u00e9r\u00e9. S'il y a eu un d\u00e9lai d'au moins 5 minutes entre deux interactions, le client doit reg\u00e9n\u00e9rer un nouveau token.</p>"},{"location":"documents/privacy-policy/","title":"Politique de confidentialit\u00e9","text":"<p>Ce service peut \u00eatre amen\u00e9 \u00e0 collecter certaines donn\u00e9es personnelles de ses utilisateurs.</p>"},{"location":"documents/privacy-policy/#1-services-concernes","title":"1. - Services concern\u00e9s","text":"<ul> <li>Site web de pr\u00e9sentation (https://getpapillon.xyz)</li> <li>Application mobile Papillon (https://github.com/PapillonApp/Papillon)</li> </ul>"},{"location":"documents/privacy-policy/#2-quelles-donnees-sont-collectees","title":"2. - Quelles donn\u00e9es sont collect\u00e9es ?","text":""},{"location":"documents/privacy-policy/#21-donnees-collectees","title":"2.1 - Donn\u00e9es collect\u00e9es","text":"<p>Ces donn\u00e9es d'identification ne sont pas stock\u00e9es en dehors de votre appareil et sont utilis\u00e9es uniquement pour vous identifier.</p> <p>Ces donn\u00e9es sont renvoy\u00e9es par les services de vie scolaire correspondants. Ces donn\u00e9es ne quitteront jamais votre appareil et seuls vous y avez acc\u00e8s.</p>"},{"location":"documents/privacy-policy/#vos-donnees-didentification-a-votre-service-scolaire","title":"Vos donn\u00e9es d\u2019identification \u00e0 votre service scolaire","text":"<p>Identifiants de connexion au service scolaire, URL de l'\u00e9tablissement et acad\u00e9mie correspondante (le cas \u00e9ch\u00e9ant)</p>"},{"location":"documents/privacy-policy/#vos-donnees-scolaires","title":"Vos donn\u00e9es scolaires","text":"<p>Emploi du temps, Travail \u00e0 faire, Notes, Comp\u00e9tences, Actualit\u00e9s de l'\u00e9tablissement, Conversations et \u00c9v\u00e9nements de vie scolaire</p>"},{"location":"documents/privacy-policy/#211-logs-et-crash-reports","title":"2.1.1 Logs et crash reports","text":"<p>Les derniers \u00e9v\u00e9nements pr\u00e9c\u00e9dant un crash peuvent \u00eatre automatiquement collect\u00e9s a des fins de d\u00e9veloppement.</p> <p>Ces donn\u00e9es contiennent des informations sur votre appareil et sur l'\u00e9tat de l'application.</p> <p>Aucune information personnelle ou scolaire n'est transmise pendant cette collecte.</p>"},{"location":"documents/privacy-policy/#22-donnees-liees-a-lidentite","title":"2.2 - Donn\u00e9es li\u00e9es \u00e0 l'identit\u00e9","text":"<p>Aucune donn\u00e9e li\u00e9e \u00e0 votre identit\u00e9 ou \u00e0 votre activit\u00e9 n'est conserv\u00e9e, hormis les logs r\u00e9cents \u00e0 des fins de d\u00e9veloppement pour corriger d'\u00e9ventuels bugs et probl\u00e8mes.</p>"},{"location":"documents/privacy-policy/#23-acces-exterieur-aux-donnees","title":"2.3 - Acc\u00e8s ext\u00e9rieur aux donn\u00e9es","text":"<p>Aucune personne ou logiciel automatis\u00e9 n\u2019utilise ou ne collecte vos donn\u00e9es personnelles.</p>"},{"location":"documents/privacy-policy/#24-suppression-des-donnees","title":"2.4 - Suppression des donn\u00e9es","text":"<p>La suppression de l'application ou la d\u00e9connexion entra\u00eene imm\u00e9diatement la suppression de l'int\u00e9gralit\u00e9 des donn\u00e9es stock\u00e9es sur votre appareil.</p>"},{"location":"documents/privacy-policy/#3-client-mobile-papillon","title":"3. - Client mobile Papillon","text":"<p>L'application \"Papillon\" est un logiciel open source, gratuit et \u00e0 but non lucratif con\u00e7u pour permettre l'acc\u00e8s aux donn\u00e9es des services scolaires transmises par des librairies tierces.</p> <p>Papillon n'est pas responsable de la mani\u00e8re dont les donn\u00e9es sont transmises par ces librairies tierces.</p>"},{"location":"documents/privacy-policy/#4-modification-de-la-politique-de-confidentialite","title":"4. - Modification de la politique de confidentialit\u00e9","text":""},{"location":"documents/privacy-policy/#41-engagement-concernant-lavenir-du-projet","title":"4.1 - Engagement concernant l'avenir du projet","text":"<p>Nous nous engageons \u00e0 ne pas collecter de donn\u00e9es \u00e0 l'avenir. Cependant, des services tiers suppl\u00e9mentaires seront peut-\u00eatre n\u00e9cessaires au fonctionnement de l'application dans une prochaine mise \u00e0 jour.</p>"},{"location":"documents/privacy-policy/#42-notification-des-changements","title":"4.2 - Notification des changements","text":"<p>Lorsque cette politique de confidentialit\u00e9 sera modifi\u00e9e, les utilisateurs finaux seront notifi\u00e9s soit via l'application, soit via leurs coordonn\u00e9es (dans le cas d'une b\u00eata-test, ou sur une communaut\u00e9 en ligne, par exemple).</p>"},{"location":"documents/privacy-policy/#5-en-cas-de-probleme","title":"5. - En cas de probl\u00e8me","text":"<p>En cas de probl\u00e8me avec l'application ou son traitement des donn\u00e9es, merci de nous contacter \u00e0 l'adresse suivante : support@getpapillon.xyz.</p>"},{"location":"documents/terms-of-service/","title":"Conditions g\u00e9n\u00e9rales d'utilisation","text":""},{"location":"documents/terms-of-service/#1-services-concernes","title":"1. - Services concern\u00e9s","text":"<ul> <li>Site web de pr\u00e9sentation (https://getpapillon.xyz)</li> <li>Application mobile Papillon (https://github.com/PapillonApp/Papillon)</li> </ul>"},{"location":"documents/terms-of-service/#2-conditions","title":"2. - Conditions","text":"<p>En tant qu'utilisateur final, vous acceptez et comprenez que :</p> <ul> <li>Papillon est un client alternatif non officiel.</li> <li>Papillon n'est affili\u00e9 \u00e0 aucune entreprise ou organisation.</li> <li>Vos donn\u00e9es ne quittent pas votre appareil conform\u00e9ment \u00e0 la  politique de confidentialit\u00e9.</li> <li>Papillon peut \u00eatre modifi\u00e9 ou retir\u00e9 de la vente \u00e0 tout moment par le gestionnaire du service.</li> </ul>"},{"location":"documents/terms-of-service/#3-en-cas-de-probleme","title":"3. - En cas de probl\u00e8me","text":"<p>En cas de probl\u00e8me avec l'application ou son traitement des donn\u00e9es, merci de nous contacter \u00e0 l'adresse suivante : support@getpapillon.xyz.</p>"},{"location":"events/la-meilleure-icone-papillon/","title":"Concours de cr\u00e9ation d'ic\u00f4nes Papillon","text":"<p>Pour f\u00eater la rentr\u00e9e, Papillon organise un concours de la communaut\u00e9 pour mettre en valeur vos talents d'artiste !</p> <p>\u00c0 vos crayons pour cr\u00e9er la meilleure ic\u00f4ne Papillon et esp\u00e9rer la voir disponible dans l'application !</p> <p>Cependant, pour participer, suivez ces instructions et respectez ces r\u00e8gles :</p>"},{"location":"events/la-meilleure-icone-papillon/#instructions","title":"Instructions","text":""},{"location":"events/la-meilleure-icone-papillon/#les-interdits","title":"Les interdits","text":"<ul> <li>Il est interdit d'utiliser des images ou des vecteurs non libres de droit ou sous licence.</li> <li>Aucun contenu qui serait interdit de publication sur les stores (dessins ou images choquantes, discriminatoires, ou susceptible de heurter la sensibilit\u00e9 de certaines personnes).</li> </ul>"},{"location":"events/la-meilleure-icone-papillon/#les-obligations","title":"Les obligations","text":"<ul> <li>Faites appara\u00eetre le logo de Papillon de mani\u00e8re assez visible et claire.</li> </ul>"},{"location":"events/la-meilleure-icone-papillon/#les-recommandations","title":"Les recommandations","text":"<ul> <li>Placez le logo de mani\u00e8re similaire, voire identique \u00e0 l'ic\u00f4ne de base.</li> <li>Modifiez le fond du logo pour en changer les couleurs, ajouter des \u00e9l\u00e9ments, images, et autres.</li> <li>Modifiez le papillon afin de changer son aspect.</li> </ul>"},{"location":"events/la-meilleure-icone-papillon/#le-rendu","title":"Le rendu","text":"<ul> <li>L'image doit \u00eatre au format JPEG ou PNG \u00e0 une r\u00e9solution minimale de <code>1024px * 1024px</code> et au format <code>1:1</code> (carr\u00e9).</li> <li>Aucune image transparente.</li> <li>Aucune image anim\u00e9e.</li> <li>Utilisez une image carr\u00e9e pleine (pas de format cercle, triangle, ou autre forme).</li> </ul>"},{"location":"events/la-meilleure-icone-papillon/#ressources","title":"Ressources","text":"<p>Afin de vous simplifier la t\u00e2che, vous pouvez t\u00e9l\u00e9charger l'ic\u00f4ne de base de Papillon ici, elle peut vous \u00eatre utile comme base : - Format SVG (pour Figma et Illustrator) : icon.svg - Format PNG (tous logiciels) : icon.png</p> <p>Note : Le t\u00e9l\u00e9chargement des ressources n\u00e9cessite l'acc\u00e8s \u00e0 des liens externes.</p> <p>Si vous ne pouvez pas manipuler d'images SVG, voici le logo Papillon en blanc uni au format PNG transparent : Union.png</p>"},{"location":"help/","title":"Aide de Papillon","text":""},{"location":"help/#documentation-en-construction","title":"Documentation en construction","text":"<p>La documentation est en construction, revenez plus tard !</p>"}]}